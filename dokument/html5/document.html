<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="OParl Team - http://oparl.org/">
  <title>OParl Schnittstellen-Spezifikation (Entwurf)</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
</head>
<body>
<header>
<h1 class="title">OParl Schnittstellen-Spezifikation (Entwurf)</h1>
<h2 class="author">OParl Team - http://oparl.org/</h2>
</header>
<p>Lizenz: Creative Commons CC-BY-SA</p>
<section id="einleitung" class="level1">
<h1><span class="header-section-number">1</span> Einleitung</h1>
<p>Dieses Dokument wird bei seiner Fertigstellung die Spezifikation des OParl Schnittstellen-Standards für parlamentarische Informationssysteme (Ratsinformationssysteme, RIS) darstellen. Es dient damit als Grundlage für die Implementierung von OParl-konformen Server- und Clientanwendungen.</p>
<section id="status" class="level2">
<h2><span class="header-section-number">1.1</span> Status</h2>
<p>Die Spezifikation befindet sich in Arbeit. Das Dokument enthält entsprechend viele Ungenauigkeiten und Hinweise auf offene Fragestellungen.</p>
<p>Die Kennzeichnung &quot;TODO&quot; markiert Hinweise, die für die Bearbeiter des Dokuments gedacht sind.</p>
</section>
<section id="was-ist-oparl" class="level2">
<h2><span class="header-section-number">1.2</span> Was ist OParl?</h2>
<p>(TODO: Nachfolgend eine Übernahme aus dem bisherigen Abschnitt &quot;Funktionsumfang der OParl-Schnittstelle&quot;. Der Text sollte deutlich überarbeitet und erweitert werden.)</p>
<p>Die vorliegende Spezifikation soll eine Webservice-Schnittstelle definieren, die den anonymen und lesenden Zugriff auf öffentliche Inhalte aus Parlamentarischen Informationssystemen ermöglicht. Die Zugriffe erfolgen über das Hypertext Transfer Protocol (HTTP). Daten werden als JSON oder als JSONP ausgeliefert.</p>
<p>Die Spezifikation wird obligatorische Bestandteile (MUSS) und optionale Bestandteile (KANN) haben. Der tatsächliche Funktionsumfang kann daher zwischen den Implementierungen variieren.</p>
</section>
<section id="zielsetzung-von-oparl" class="level2">
<h2><span class="header-section-number">1.3</span> Zielsetzung von OParl</h2>
<p>TODO:</p>
<ul>
<li>Nutzen für Kommunen, Bürger, politische Parteien</li>
<li>Nutzen für Anbieter von RIS-Pflegesoftware</li>
<li>Nutzen für Anbieter von RIS-Darstellungssoftware</li>
<li>Nutzen für Open Data Initiativen</li>
<li>Nutzen für die Wissenschaft</li>
<li>Linked Data erwähnen</li>
</ul>
<p>(Nachstehen der bisherige Textentwurf aus dem Abschnitt &quot;Motivationen für den standardisierten Datenzugriff&quot;, der sicherlich deutlich überarbeitet werden muss.)</p>
<p>Die Gründe, warum Betreiber von parlamentarischen Informationssystemen den Zugriff darauf über eine standardisierte Schnittstelle ermöglichen sollten, können vielfältig sein.</p>
<p>Ein zentrales Argument ist die Verpflichtung der Parlamente gegenüber der Bevölkerung, diese über die Fortschritte der parlamentarischen Arbeit zu informieren und auf dem Laufenden zu halten. Ein erster Schritt, der Bevölkerung Einblicke in die Arbeit und Zugriff auf Dokumente zu gewähren, ist vielerorts in den letzten Jahren durch Einführung von Ratsinformationssystemen mit anonymem, lesenden Zugriff über das World Wide Web gemacht worden.</p>
<p>Die damit eingeschlagene Richtung konsequent weiter zu gehen, bedeutet, die Daten der parlamentarischen Informationssystemen gänzlich offen zu legen, sofern die Inhalte es erlauben. Es bedeutet, die Daten und Inhalte so universell weiterverwendbar und so barrierearm wie möglich anzubieten, dass jegliche weitere Verwendung durch Dritte technisch möglich ist. Der seit einiger Zeit etablierte Begriff für dieses Prinzip heißt &quot;Open Data&quot;.</p>
<p>Das Interesse an parlamentarischen Informationen und an Anwendungen, die diese nutzbar und auswertbar machen, ist offensichtlich vorhanden. Die Entwickler der alternativen Ratsinformationssysteme wie Frankfurt Gestalten[14], Offenes Köln[15] oder der OpenRuhr:RIS-Instanzen[16] wissen zu berichten, wie viel Interesse den Projekten gerade aus Orten entgegen gebracht wird, in denen derartige Systeme noch nicht verfügbar sind.</p>
<p>Die Anwendungsmöglichkeiten für parlamentarische Informationen, wenn sie über eine Schnittstelle schnell und einfach abgerufen werden können, sind vielfältig. Beispiele könnten sein:</p>
<ul>
<li>Apps für den Abruf auf mobilen Endgeräten</li>
<li>Möglichkeiten zur Wiedergabe für Nutzerinnen und Nutzer mit Beeinträchtigung des Sehvermögens</li>
<li>Alternative und erweiterte Suchmöglichkeiten in Inhalten</li>
<li>Auswertung und Analyse von Themen, Inhalten, Sprache etc.</li>
<li>Benachrichtigungsfunktionen beim Erscheinen bestimmte Inhalte</li>
</ul>
<p>Die Standardisierung dieses Zugriffs über die Grenzen einzelner Systeme hinweg erlaubt zudem, diese Entwicklungen grenzüberschreitend zu denken. Damit steigt nicht nur die potenzielle Nutzerschaft einzelner Entwicklungen. Auch das Potenzial für Kooperationen zwischen Anwendungsentwicklern wächst.</p>
<p>Darüber hinaus sind auch Motivationen innerhalb von Organisationen und Körperschaften erkennbar. So sollen parlamentarische Informationssysteme vielerorts in verschiedenste Prozesse und heterogene Systemlandschaften integriert werden. Durch eine einheitliche Schnittstelle bieten sich effiziente Möglichkeiten zur Integration der Daten in anderen Systeme, wie beispielsweise Web-Portale.</p>
</section>
<section id="transparenz-und-beteiligung-durch-open-data" class="level2">
<h2><span class="header-section-number">1.4</span> Transparenz und Beteiligung durch Open Data</h2>
<p>TODO:</p>
<ul>
<li>Einführung zu Open Data</li>
<li>&quot;10 Principles&quot; erwähnen <a href="https://sunlightfoundation.com/policy/documents/ten-open-data-principles/">https://sunlightfoundation.com/policy/documents/ten-open-data-principles/</a></li>
<li>Spürbare Tendenz zu mehr Offenheit</li>
<li>Open Data ist (nur) zum Teil technisches Problem</li>
<li>Vier der &quot;10 Principles&quot; haben technische Dimension:
<ul>
<li><ol start="5" type="1">
<li>Machine readability</li>
</ol></li>
<li><ol start="6" type="1">
<li>Non-discrimination</li>
</ol></li>
<li><ol start="7" type="1">
<li>Use of Commonly Owned Standards</li>
</ol></li>
<li><ol start="9" type="1">
<li>Permanence</li>
</ol></li>
</ul></li>
<li>Die bloße Bereitstellung einer OParl-konformen API wird weder die Einhaltung der technischen Prinzipien, noch der weiteren Open-Data-Prinzipien vollständig garantieren. Für echte Transparenz bedarft es mehr.</li>
<li>Viele Bestandteile der Oparl Spezifikation, die einen weitgehend barrierearmen Zugang zu Informationen ermöglichen, sind optional.
<ul>
<li>Beispiel: Volltexte von Dokumenten über die API abrufbar machen</li>
</ul></li>
<li>Andere Bestandteile, die von Interesse wären, sind noch gar nicht von OParl abgedeckt. Beispiel: Abstimmungsergebnisse.</li>
<li>Grund dafür ist, dass sich OParl in einem frühen Stadium befindet und primär am Status Quo der parlamentarischen Informationssysteme ausgerichtet ist.</li>
<li>Es liegt also auch weiterhin an den Verwaltungen und Parlamentariern, durch einen verantwortungsvollen Umgang mit den Systemen die maximal erreichbare Transparenz zu bieten. Das fängt bei Dokumentenformaten an (ein PDF mit digitalem Text weist weit weniger Barrieren auf, als ein gescannter Brief, der ebenfalls als PDF gespeichert wurde) und hört bei der verwendeten Sprache auf.</li>
</ul>
</section>
<section id="werdegang-von-oparl-1.0" class="level2">
<h2><span class="header-section-number">1.5</span> Werdegang von OParl 1.0</h2>
<p>Stichpunkte:</p>
<ul>
<li><ol start="17" type="1">
<li>und 18. November 2012: Die Open Knowledge Foundation Deutschland veranstaltet in den Räumen der Heinrich-Böll-Stiftung in Berlin einen Workshop für Entwickler von Anwendungen, die einen gesellschaftlichen Nutzen bringen sollen. Hier ist VITAKO, die Bundes-Arbeitsgemeinschaft der Kommunalen IT-Dienstleister, als Sponsor engagiert. Die Geschäftsführerin, Dr. Marianne Wulff, ist persönlich vor Ort. Auch das Projekt Offenes Köln wird in einem Vortrag von Marian Steinbach präsentiert. Es kommt zum Austausch über die Frage, wie das Prinzip der offenen Ratsinformationen effektiv auf weitere Kommunen ausgeweitet werden könnte.</li>
</ol></li>
<li><ol start="6" type="1">
<li>Dezember 2012: Anhörung im Landtag NRW in Düsseldorf zu einer Open-Data-Strategie der Landesregierung, wo Jens Klessmann und Marian Steinbach als Sachverständige gehört werden. Danach Gespräch über Möglichkeiten der Standardisierung offener Ratsinformationssysteme.</li>
</ol></li>
<li><p>Dezember 2012: Dr. Marianne Wulff, Jens Klessmann und Marian Steinbach beginnen mit der Abstimmung über einen Workshop mit Vertreterinnen und Vertretern von Kommunen, kommunalen IT-Dienstleistern, RIS-Anbietern und Zivilgesellschaft. Ziel: Die Bereitschaft zur Zusammenarbeit an einem gemeinsamen Standard ermitteln. Unterdessen beginnt Marian Steinbach mit der Formulierung eines Standard-Entwurfs als Diskussionsgrundlage. Der Entwurf wird von Beginn an öffentlich auf GitHub.com bereit gestellt.</p></li>
<li><ol start="17" type="1">
<li>April 2013: Insgesamt 30 Teilnehmer versammeln sich in Köln, um sich in einem ersten Treffen über Ziele und Chancen einer Standardisierung für offene Ratsinformationen auszutauschen. Als Ergebnis wird ein großes Interesse an der weiteren Zusammenarbeit auf Basis des vorliegenden Standardentwurfs festgestellt. Als Termin für die Fertigstellung der ersten Version der Spezifikation wird der 30. Juni 2013 festgelegt. Die Initiatoren präsentieren den Anwesenden hier erstmals den Namen &quot;OParl&quot;, der künftig als Marke für die Bemühungen der Gruppe stehen soll.</li>
</ol></li>
<li><ol start="22" type="1">
<li>Januar 2014: Nachdem sich die verteilte Zusammenarbeit am Standard-Entwurf seit April 2013 als nicht zielführend erwiesen hat, laden Jens Klessmann und Marian Steinbach und VITAKO zu einem eintägigen OParl-Workshop in Bielefeld ein. Das Ziel ist, die Spezifikation so weit wie möglich voran zu treiben und eine gute Basis für die baldige Fertigstellung zu legen.</li>
</ol></li>
<li><ol start="26" type="1">
<li>Januar 2014: In Düsseldorf findet ein weiterer Workshop zur Arbeit am Entwurf der Spezifikation statt.</li>
</ol></li>
<li><ol type="1">
<li>Mai 2014: Beginn der Review-Phase. Interessierte sind aufgerufen, den vorliegenden Entwurf bis Ende Mai zu kommentieren.</li>
</ol></li>
<li><p>Ende Mai 2014: Telefonkonferenz zum eingegangenen Feedback aus der Review-Phase</p></li>
<li><p>KW 23 (2. bis 6. Juni): Geplante Veröffentlichung der Spezifikation 1.0</p></li>
</ul>
</section>
<section id="zukunft-von-oparl" class="level2">
<h2><span class="header-section-number">1.6</span> Zukunft von OParl</h2>
<p>TODO: - Verfeinerung, Lücken schliessen - Globalisierung - Erweiterung über die kommunale Ebene hinaus (Land, Bund) - Vereinheitlichung von Kategorien (Drucksachentypen, Arten von Gremien) - Erweiterung von Personendaten, z.B. mit Social Media URLs - Mehr Abfragekriterien - Suchfunktionen (Volltextsuche) - Abstimmungsverhalten und maschinenlesbare Protokolle - Schreibender Zugriff. Auch dazu muss das Rad nicht neu erfunden werden. Bestehende bzw. in Entwicklung befindliche Spezifikationen und Techniken aus der Linked Data-Welt können verwendet werden. Dazu gehören insbesondere die Linked Data Platform des W3C und Hydra.</p>
</section>
<section id="nomenklatur-der-spezifikation-und-satzkonventionen" class="level2">
<h2><span class="header-section-number">1.7</span> Nomenklatur der Spezifikation und Satzkonventionen</h2>
<section id="müssen-sollen-und-können-bzw.-zwingend-empfohlen-und-optional" class="level3">
<h3><span class="header-section-number">1.7.1</span> MÜSSEN, SOLLEN und KÖNNEN bzw. ZWINGEND, EMPFOHLEN und OPTIONAL</h3>
<p>Dieses Spezifikationsdokument nutzt die Modalverben müssen, können und sollen in einer Art und Weise, die bestimmte Anforderungen möglichst unmissverständlich in drei verschiedene Abstufung einteilen lässt. Um ihre normative Bedeutung zu unterstreichen, werden diese Wörter grundsätzlich in Großbuchstaben gesetzt.</p>
<p>Diese Konvention ist angelehnt an die Definitionen der Begriffe MUST, SHOULD und MAY (bzw. MUST NOT, SHOULD NOT und MAY NOT) aus RFC2119.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>Die Bedeutung im Einzelnen:</p>
<dl>
<dt>MÜSSEN/MUSS bzw. ZWINGEND:</dt>
<dd><p>Die Erfüllung einer Anforderung, die explizit vom Modalverb MÜSSEN bzw. MUSS Gebrauch macht, ist zwingend erforderlich.</p>
<p>Die Entsprechung in RFC2119 lautet &quot;MUST&quot;, &quot;REQUIRED&quot; oder &quot;SHALL&quot;.</p>
</dd>
<dt>NICHT DÜRFEN/DARF NICHT:</dt>
<dd><p>Dieses Stichwort kennzeichnet ein absolutes Verbot.</p>
<p>Die Entsprechung in RFC2119 lautet &quot;MUST NOT&quot; oder &quot;SHALL NOT&quot;.</p>
</dd>
<dt>SOLLEN/SOLL bzw. EMPFOHLEN:</dt>
<dd><p>Mit dem Wort SOLLEN bzw. SOLL sind empfohlene Anforderungen gekennzeichnet, die von jeder Implementierung erfüllt werden sollen. Eine Nichterfüllung ist als Nachteil zu verstehen, beispielsweise weil die Nutzerfreundlichkeit dadurch Einbußen erleidet, und sollte daher sorgfältig abgewogen werden.</p>
<p>Die Entsprechung in RFC2119 lautet &quot;SHOULD&quot; oder &quot;RECOMMENDED&quot;.</p>
</dd>
<dt>NICHT SOLLEN/SOLL NICHT bzw. NICHT EMPFOHLEN:</dt>
<dd><p>Diese Formulierung wird verwendet, wenn unter gewissen Umständen Gründe existieren können, die ein bestimmtes Verhalten akzeptabel oder sogar nützlich erscheinen lassen, jedoch die Auswirkung des Verhaltens vor einer entsprechenden Implementierung verstanden und abgewogen werden sollen.</p>
<p>Die Entsprechung in RFC2119 lautet &quot;SHOULD NOT&quot; oder &quot;NOT RECOMMENDED&quot;.</p>
</dd>
<dt>DÜRFEN/DARF bzw. OPTIONAL:</dt>
<dd><p>Mit dem Wort DÜRFEN bzw. DARF oder OPTIONAL sind optionale Bestandteile gekennzeichnet. Ein Anbieter könnte sich entscheiden, den entsprechenden Bestandteil aufgrund besonderer Kundenanforderungen zu unterstützen, während andere diesen Bestandteil ignorieren könnten. Implementierer von Clients oder Servern DÜRFEN in solchen Fällen NICHT davon ausgehen, dass der jeweilige Kommunikationspartner den entsprechenden, optionalen Anteil unterstützt.</p>
<p>Die Entsprechung in RFC2119 lautet &quot;MAY&quot; oder &quot;OPTIONAL&quot;.</p>
</dd>
</dl>
</section>
<section id="besondere-hervorhebungen-und-satzkonventionen" class="level3">
<h3><span class="header-section-number">1.7.2</span> Besondere Hervorhebungen und Satzkonventionen</h3>
<p>TODO</p>
</section>
</section>
<section id="initiatoren" class="level2">
<h2><span class="header-section-number">1.8</span> Initiatoren</h2>
<p>TODO</p>
</section>
<section id="unterstützer" class="level2">
<h2><span class="header-section-number">1.9</span> Unterstützer</h2>
<p>TODO</p>
</section>
<section id="autoren" class="level2">
<h2><span class="header-section-number">1.10</span> Autoren</h2>
<p>An diesem Dokument haben mitgewirkt:</p>
<p>Felix Ebert, Jan Erhardt, Jens Klessmann, Andreas Kuckartz, Babett Schalitz, Marian Steinbach, Thomas Tursics, Jakob Voss</p>
</section>
</section>
<section id="architektur" class="level1">
<h1><span class="header-section-number">2</span> Architektur</h1>
<p>In diesem Abschnitt werden grundlegenden Konzepte, die von OParl abgedeckt werden, erläutert. Die Erläuterungen sind nicht im engeren Sinne Teil der Spezifikation, sondern dienen dazu, die Anwendungsbereiche von OParl und die Funktionen einer OParl-konformen API verständlicher und konkreter beschreiben zu können.</p>
<p>Da die Architektur auf der generellen Architektur des World Wide Web (WWW) aufbaut, sind einzelne Konzepte direkt den Begriffen der Architekturbeschreibung des W3-Konsortiums entlehnt.<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<section id="überblick" class="level2">
<h2><span class="header-section-number">2.1</span> Überblick</h2>
<figure>
<img src="images/architektur-ueberblick.png" alt="Architekturdiagramm" /><figcaption>Architekturdiagramm</figcaption>
</figure>
</section>
<section id="parlamentarisches_infosystem" class="level2">
<h2><span class="header-section-number">2.2</span> Parlamentarisches Informationssystem</h2>
<p>Parlamentarische Informationssysteme sind Software-Systeme, die von verschiedensten Körperschaften eingesetzt werden, um die Zusammenarbeit von Parlamenten zu organisieren, zu dokumentieren und öffentlich nachvollziehbar zu machen.</p>
<p>Im kommunalen Umfeld in Deutschland, wo das Parlament je nach Art der Kommune häufig als Stadtrat oder Gemeinderat bezeichnet wird, hat sich für diese Art von Informationssystem auch der Begriff &quot;Ratsinformationssystem&quot; (kurz &quot;RIS&quot;) etabliert.</p>
<p>Parlamentarische Informationssysteme sind jedoch nicht auf die kommunale Ebene begrenzt. Ähnliche Systeme werden auch auf Ebene z.B. von Landkreisen, Regierungsbezirken und diversen Zweckverbänden eingesetzt.</p>
<p>Diese Systeme unterstützen in der Regel mehrere der folgenden Funktionen:</p>
<ul>
<li>Das Erzeugen, Bearbeiten und Darstellen von Sitzungen und deren Tagesordnung</li>
<li>Das Erzeugen und Abrufen von Sitzungsprotokollen</li>
<li>Das Erzeugen, Bearbeiten und Anzeigen von Drucksachen</li>
<li>Das Erzeugen, Bearbeiten und Anzeigen von Gremien und deren Mitgliedern</li>
</ul>
<p>Funktionen, die die Eingabe und Bearbeitung von Daten betreffen, sind in der Regel einem geschlossenen Nutzerkreis vorbehalten. Die Darstellung und der Abruf von Informationen und Dokumenten hingegen ist in vielen Fällen für die Öffentlichkeit freigegeben.</p>
<p>Die OParl Spezifikation beschreibt eine Schnittstelle, die den maschinellen, lesenden Zugriff auf derartige Informationen ermöglicht.</p>
</section>
<section id="server" class="level2">
<h2><span class="header-section-number">2.3</span> Server</h2>
<p>Der Server im Sinne dieser Spezifikation ist ein Software-Dienst, der auf einem mit dem Internet verbundenen Rechnersystem läuft. Dieser Dienst ist eine spezielle Form eines WWW- bzw. HTTP(S)-Servers. Entsprechend beantwortet der Server HTTP-Anfragen, die an ihn auf einem bestimmten TCP-Port gestellt werden.</p>
<p>Der Server ist als Bestandteil des parlamentarischen Informationssystems zu verstehen. Der Betrieb des Servers steht damit üblicherweise in der Verantwortung desjenigen, der das parlamentarischen Informationssystem betreibt.</p>
<p>Von einem Server, der die OParl-Spezifikation erfüllt, wird erwartet, dass er bestimmte parlamentarische Informationen in einem bestimmten Format zur Verfügung stellt und auf bestimmte Anfragen von so genannten Clients über die OParl API entsprechend dieser Spezifikation reagiert.</p>
</section>
<section id="api" class="level2">
<h2><span class="header-section-number">2.4</span> API</h2>
<p>Der Begriff API steht in diesem Dokument für die Webservice-Schnittstelle, die der Server anbietet. Die Schnittstelle basiert auf dem HTTP-Protokoll. Mittels HTTPS ist wahlweise auch die verschlüsselte Nutzung der API möglich, sofern Server dies unterstützt.</p>
<p>Die API steht im Mittelpunkt dieser Spezifikation. Server und Clients sind als Kommunikationspartner zu verstehen, die über das Internet als Kommunikationskanal mit einander kommunizieren können. Die API-Spezifikation stellt dabei die nötige Grammatik und das Vokabular bereit, anhand dessen eine sinnvolle Kommunikation erfolgen kann.</p>
</section>
<section id="client" class="level2">
<h2><span class="header-section-number">2.5</span> Client</h2>
<p>Der Begriff &quot;Client&quot; steht für eine Software, die über die OParl API mit dem Server kommuniziert. Da die API auf dem HTTP-Protokoll aufbaut, handelt es sich bei dem Client um eine spezielle Form eines HTTP-Clients.</p>
</section>
<section id="cache" class="level2">
<h2><span class="header-section-number">2.6</span> Cache</h2>
<p>Ein Cache ist ein Speicher, der einem Client dazu dienen kann, von einem Server abgerufene Informationen längerfristig vorzuhalten. Dies kann beispielsweise dazu dienen, mehrfache Anfragen der selben Informationen zu vermeiden, wodurch sowohl Ressourcen auf Seite des Servers geschohnt als auch die Nutzung von Netzwerkbandbreite reduziert werden kann. Die Nutzung eines Cache kann auch zur Verbesserung der Nutzerfreundlichkeit eines Clients beitragen, indem Wartezeiten zur Bereitstellung einer Ressource verkürzt werden.</p>
</section>
<section id="nutzerin" class="level2">
<h2><span class="header-section-number">2.7</span> Nutzerin oder Nutzer</h2>
<p>Mit einer Nutzerin oder einem Nutzer ist in diesem Fall eine natürliche Person gemeint, die mittels eines OParl-Clients auf parlamentarische Informationen zugreift.</p>
</section>
<section id="objekt" class="level2">
<h2><span class="header-section-number">2.8</span> Objekt</h2>
<p>Der Server beantwortet Anfragen eines Clients im Regelfall, indem bestimmte Objekte ausgegeben werden. Objekte sind im Fall einer OParl-konformen API JSON-Objekte, die das Schema einhalten, das in der vorliegenden Spezifikation beaschrieben wird. Antworten des Servers können einzelne Objekte, Listen von Objekten oder Listen von URLs von Objekten enthalten.</p>
</section>
</section>
<section id="nutzungsszenarien" class="level1">
<h1><span class="header-section-number">3</span> Nutzungsszenarien</h1>
<p>Die nachfolgenden Nutzungsszenarien dienen dazu, die Architektur und die Anwendungsmöglichkeiten anhand konkreter Beispiele zu verdeutlichen. Sie erheben keinen Anspruch auf Vollständigkeit.</p>
<section id="szenario_mobile_client" class="level2">
<h2><span class="header-section-number">3.1</span> Szenario 1: Mobile Client-Anwendung</h2>
<p>Eine <a href="#client">Client</a>-Anwendung für mobile Endgeräte wie SmartPhones und Tablets, nachfolgend &quot;App&quot; genannt, könnte das Ziel verfolgen, Nutzern unterwegs sowie abseits vom Desktop-PC bestmöglichen Lesezugriff auf Dokumente aus Ratsinformationssystemen (RIS) zu bieten. Die möglichen Kontexte und Nutzungsmotivationen sind vielfältig:</p>
<ul>
<li><p>Teilnehmer einer Sitzung greifen während der Sitzung auf die Einladung dieser Sitzung und die zur Tagesordnung der Sitzung gehörenden Drucksachen zu, außerdem auf die Protokolle vorheriger Sitzungen.</p></li>
<li><p>Eine Redakteurin der Lokalpresse geht unterwegs die Themen der nächsten Sitzungen bestimmter Gremien, für die sie sich besonders interessiert, durch.</p></li>
<li><p>Eine Gruppe von Studierenden erkundet zusammen mit ihrem Dozenten die lokalpolitischen Aktivitäten des Viertels rund um ihre Hochschule. Dazu nutzen sie die GPS-Lokalisierung ihrer Smartphones in Verbindung mit den Geodaten, die an vielen Drucksachen des lokalen RIS zu finden sind. Direkt vor Ort an einer Baustelle öffnen sie Beschlüsse, Pläne und Eingaben aus dem Planfeststellungsverfahren, die dieser Baustelle voran gegangen sind.</p></li>
</ul>
<p>Zur Realisierung derartiger Szenarien können die Fähigkeiten von OParl-kompatiblen Servern mit den besonderen Eigenschaften der mobilen Endgeräte verknüpft werden.</p>
<p>Smartphones und Tablets verfügen beispielsweise, je nach Aufenthaltsort, über sehr unterschiedlich gute Internetanbindung. In einem Büro oder zuhause können Nutzer über ein WLAN Daten mit hoher Bandbreite austauschen, in Mobilfunknetzen vor allem außerhalb der Ballungsgebiete jedoch sinken die Bandbreiten deutlich. Einige Tablets werden sogar ohne Möglichkeit zur Mobilfunk-Datenübertragung genutzt. In solchen Fällen kann ein <a href="#cache">Cache</a> auf dem Endgerät dazu dienen, Inhalte vorzuhalten, die dann auch bei langsamer oder fehlender Internetverbindung zur Verfügung stehen. Sobald dann wieder eine Verbindung mit hoher Bandbreite bereit steht, kann die App im Hintergrund, entweder über die <a href="#feeds">Feeds</a> der OParl API oder über den einzelnen Abruf von Objekten, die gecachten Inhalte aktualisieren.</p>
<p>Eine Stärke eines mobilen Clients ist auch die Möglichkeit der Personalisierung, also der Anpassung auf die Bedürfnisse und Interessen der Nutzerin oder des Nutzers. Es wäre beispielsweise denkbar, dass eine Nutzerin die Ratsinformationssysteme, für die sie sich interessiert, dauerhaft in der App einrichtet und eine Favoritenliste der Gremien, die ihre bevorzugten Themengebiete behandeln, hinterlegt. Die App könnte aufgrund dieser Favoritenliste eigenständig über die API nach neuen Sitzungsterminen, Tagesordnungspunkten, Drucksachen und Dokumente suchen. Taucht dabei ein neues Objekt auf, wird die Nutzerin darüber benachrichtigt. Sie kann dann beispielsweise entscheiden, Dokumente direkt zu öffnen oder für den späteren Offline-Zugriff zu speichern.</p>
<p>Einem derartigen Szenario kommt das Graph-orientierte Datenmodell der OParl API entgegen. Ausgehend von einer Sitzung eines bestimmten Gremiums beispielsweise ist es damit einfach möglich, die in Verbindung stehenden Mitglieder des Gremiums, Teilnehmer der Sitzung, Tagesordnungspunkte der Sitzung oder Drucksachen zu den Tagesordnungspunkten und letztlich Dokumente zu Drucksachen und Sitzung abzurufen.</p>
<p>Für die Nutzer einer mobilen Client-Anwendung könnte es sich als besonders hilfreich erweisen, wenn Dokumente auf dem Server in verschiedenen Formaten zur Verfügung gestellt werden. Denn nicht jedes Endgerät mit kleinem Bildaschirm bietet eine nutzerfreundliche Möglichkeit, beispielsweise Dokumente im weit verbreiteten PDF-Format darzustellen. Hier könnte schon der Entwickler der mobilen App Mechanismen vorsehen, die, sofern vorhanden, besser geeignete Formate wie z.B. HTML abrufen.</p>
<p>Neben dem kleinen Display kann für einige mobile Endgeräte auch die im Vergleich zu einem zeitgemäßen Desktop-PC geringere CPU-Leistung eine Einschränkung darstellen. Solchen Geräten kommt es besonders entgegen, wenn der Server zu allen Dokumenten auch den reinen Textinhalt abrufbar macht, der dann beispielsweise für eine Volltextsuche auf dem Endgerät indexiert werden kann. So wiederum kann auf dem Client eine Suchfunktion realisiert werden, welche die OParl-API selbst nicht zur Verfügung stellt.</p>
<p>Eine solche Suchfunktion kann auch über die reine Volltxtsuche hinaus gehen und über die Suche mittels Text- oder Spracheingabe hinaus gehen. Denn ein Client könnte von einem <a href="#server">Server</a>-System, das Drucksachen mit Geoinformationen anbietet, diese abrufen und räumlich indexieren. Anhand der Position des Geräts, die mittels GPS genau bestimmt werden kann, könnte so der lokale Cache nach Objekten in der Umgebung durchsucht werden. Das Ergebnis könnte auf einer Karte dargestellt oder in einer Ergebnisliste angezeigt werden, die nach Distanz zum Objekt sortiert werden könnte.</p>
</section>
<section id="szenario_web_portal" class="level2">
<h2><span class="header-section-number">3.2</span> Szenario 2: Integration in Web-Portal</h2>
<p>Web Portale bieten Nutzern unter anderem die Möglichkeit Anwendungen, Prozesse und Dienste zu integrieren. Die OParl API stellt einen solchen Dienst dar und bereitet so den Weg zu angereicherten Portalseiten. Informationen, die über die API bezogen werden, können in Portlets organisiert und visualisiert werden. Hierbei können</p>
<ol type="1">
<li>angemeldete Benutzer</li>
</ol>
<p>die eingegrenzten Portlet Parameter für den nächsten Besuch zwischen speichern, während</p>
<ol start="2" type="1">
<li>anonyme Benutzer</li>
</ol>
<p>dies nicht können. In beiden Fällen können Portalnutzer das angezeigte Portlet nach ihren Bedürfnissen anpassen. Beispielsweise kann ein solches Portlet eine Liste der Gremien bereitstellen, aus der sich der Nutzer das interessante Gremium aussucht und aufgrund dieser Auswahl die Informationen zu den vergangenen / nächsten Sitzungsterminen im Rat, etwaiger Drucksachen oder Dokumenten erhält und geeignet visualisiert.</p>
<p>Durch eine solche Integration von RIS Informationen in bestehende Portalsysteme (unter Umständen die kommunale Webseite selbst), ist es möglich Nutzern zusätzliche Informationen in der bereits gewohnten Umgebung zu präsentieren und den bestehenden Informationsgehalt und den Datenbestand aufzuwerten.</p>
</section>
<section id="szenario_meta_suche" class="level2">
<h2><span class="header-section-number">3.3</span> Szenario 3: Meta-Suche</h2>
<p>TODO</p>
</section>
<section id="szenario_forschung" class="level2">
<h2><span class="header-section-number">3.4</span> Szenario 4: Forschungsprojekt Themen- und Sprachanalyse</h2>
<p>TODO</p>
</section>
</section>
<section id="prinzipien-und-funktionen-der-api" class="level1">
<h1><span class="header-section-number">4</span> Prinzipien und Funktionen der API</h1>
<p>TODO</p>
<p>(In diesem Kapitel werden die Zugriffsmethoden der OParl-konformen Schnittstelle beschrieben. Hierzu gehören alle chapter-Dateien, deren Nummerierung mit der Ziffer 6 beginnnt.)</p>
<p>Stichpunkte:</p>
<ul>
<li>Grundlage für den Zugriff auf die Schnittstelle ist das Hypertext Transfer Protocol (HTTP).</li>
<li>Optional gzip Encoding und andere Kodierungen, wenn Client und Server dies unterstützen</li>
<li>Das Protokoll ist zustandslos</li>
<li>Authentifizierung wird nicht benötigt.</li>
</ul>
<section id="designprinzipien" class="level2">
<h2><span class="header-section-number">4.1</span> Designprinzipien</h2>
<section id="aufbauen-auf-gängiger-praxis" class="level3">
<h3><span class="header-section-number">4.1.1</span> Aufbauen auf gängiger Praxis</h3>
<p>Grundlage für die Erarbeitung der OParl-Spezifikation in der vorliegenden Version ist eine Analyse der aktuell (2012 bis 2014) in Deutschland befindlichen Ratsinformationssysteme und ihrer Nutzung. Erklärtes Ziel für diese Version ist es, mit möglichst geringem Entwicklungsaufwand auf Seite der Softwareanbieter und Migrationsaufwand auf Seite der Betreiber zu einer Bereitstellung von parlamentarischen Informationen über eine OParl API zu gelangen. Hierbei war es von entscheidender Bedeutung, dass sich die Informationsmodelle der einschlägigen Softwareprodukte stark ähneln. Für die OParl-Spezifikation wurde sozusagen ein Datenmodell als &quot;gemeinsamer Nenner&quot; auf Basis der gängigen Praxis beschrieben.</p>
</section>
<section id="verbesserung-gegenüber-dem-status-quo-wo-möglich" class="level3">
<h3><span class="header-section-number">4.1.2</span> Verbesserung gegenüber dem Status Quo wo möglich</h3>
<p>Dort, wo es dem Ziel der einfachen Implementierbarkeit und der einfachen Migration nicht im Weg steht, erlauben sich die Autoren dieser Spezifikation, auch Funktionen aufzunehmen, die noch nicht als gängige Praxis im Bereich der Ratsinformationssysteme bezeichnet werden können oder welche nur von einzelnen Systemen unterstützt werden. Solche Funktionen sind dann so integriert, dass sie nicht als zwingende Anforderung gelten.</p>
<p>Ein Beispiel für eine derartige Funktion ist die Abbildung von Geodaten im Kontext von Drucksachen (<code>oparl:Paper</code>), um beispielsweise die Lage eines Bauvorhabens, das in einer Beschlussvorlage behandelt wird, zu beschreiben. Zwar ist den Autoren nur ein einziges Ratsinformationssystem<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> in Deutschland bekannt, das Geoinformationen - und zwar in Form von Punktdaten, also einer Kombination aus Längen- und Breitengradangaben - mit Dokumenten verknüpft. Der Vorteil dieser Funktion ist jedoch anhand zahlreicher Anwendungsszenarien belegbar. Somit ist der vorliegenden OParl-Spezifikation die Möglichkeit beschrieben, beliebige Geodaten-Objekte entsprechend der GeoJSON Spezifikation<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a> einzubetten. Die Angabe eines einzelnen Punktes ist dabei nur ein einfacher Sonderfall. Die Spezifikation erlaubt auch die Kodierung von mehreren Objekten, die Punkte, Linien oder Polygone repräsentieren können. Vgl. dazu <code>oparl:Location</code>.</p>
<p>Auch die Ausgabe einer Nur-Text-Version im Kontext des Dokuments (<code>oparl:Document</code>), das den barrierefreien Zugriff auf Inhalte oder Indexierung für Volltextsuchfunktionen deutlich vereinfacht, ist eine Möglichkeit, die in der gängigen Praxis noch nicht zu finden ist. Ebenso die Möglichkeit, Beziehungen zwischen einzelnen Dokumenten herzustellen, um so von einem Dokument zu anderen Dokumenten mit identischem Inhalt, aber in anderen technischen Formaten zu verweisen, etwa von einer ODT-Datei zu einer PDF-Version.</p>
</section>
<section id="restful" class="level3">
<h3><span class="header-section-number">4.1.3</span> RESTful</h3>
<p>Die Bezeichnung &quot;REST&quot; (für &quot;Representational State Transfer&quot;) wurde im Jahr 2000 von Roy Fielding eingeführt<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a>. Die Definition von Fielding reicht sehr weit und berührt viele Details. In der Praxis wird der Begriff häufig genutzt, um eine Schnittstelle zu beschreiben,</p>
<ul>
<li>die auf WWW-Technologie aufbaut, insbesondere dem HTTP-Protokoll</li>
<li>die darauf beruht, dass mittels URL einzelne Ressourcen oder Zustände vom Client abgerufen werden können.</li>
<li>die zustandslos ist. Das bedeutet, die Anfrage eines Clients an den Server enthält alle Informationen, die notwendig sind, um die Anfrage zu verarbeiten. Auf dem Server wird kein Speicher zur Verfügung gestellt, um beispielsweise den Zustand einer Session zu speichern.</li>
</ul>
</section>
<section id="selbstbeschreibungsfähigkeit" class="level3">
<h3><span class="header-section-number">4.1.4</span> Selbstbeschreibungsfähigkeit</h3>
<p>Ausgaben des Servers sollten so beschaffen sein, dass sie für menschliche NutzerInnen weitgehend selbsterklärend sein können. Dies betrifft besonders die Benennung von Objekten und Objekteigenschaften.</p>
<p>Um den Kreis der Entwicklerinnen und Entwickler, die mit einer OParl-API arbeiten können, nicht unnötig einzuschränken, wird hierbei grundsätzlich auf englischsprachige Begrifflichkeiten gesetzt.</p>
</section>
<section id="erweiterbarkeit" class="level3">
<h3><span class="header-section-number">4.1.5</span> Erweiterbarkeit</h3>
<p>Implementierer sollen in der Lage sein, über eine OParl-konforme Schnittstelle auch solche Informationen auszugeben, die nicht im Rahmen des OParl-Schemas abgebildet werden können. Dies bedeutet zum einen, dass ein System Objekttypen unterstützen und ausliefern darf, die nicht (oder noch nicht) im OParl Schema beschrieben sind. Das bedeutet auch, dass Objekttypen so um eigene Eigenschaften erweitert werden können, die nicht im OParl Schema beschrieben sind.</p>
<p>Ein weiterer Aspekt betrifft die Abwärtskompatiblität, also die Kompatibilität von OParl-Clients mit zukünftigen Schnittstellen. So können beispielsweise zukünftige Erweiterungen des OParl Schemas, etwa um neue Objekttypen, genau so durchgeführt werden wie die Erweiterungen um herstellerspezifische Objekttypen. Ein Client muss diese Anteile nicht auswerten, sofern sie nicht für die Aufgabe des Clients relevant sind.</p>
<p>Diese angestrebte Erweiterbarkeit wird durch weitgehend durch das <a href="#jsonld">JSON-LD-Format</a> gewährleistet. Es erlaubt die Verflechtung von Objekttypen-Definitionen aus verschiedenen Schemata.</p>
</section>
<section id="browseability_verlinkung" class="level3">
<h3><span class="header-section-number">4.1.6</span> Browseability/Verlinkung</h3>
<p>Klassische Webservice-Schnittstellen erfordern von den Entwicklern vollständige Kenntnis der angebotenen Einstiegspunkte und Zugriffsmethoden, gepaart mit sämtlichen unterstützten URL-Parametern, um den vollen Funktionsumfang der Schnittstelle ausschöpfen zu können.</p>
<p>Parlamentarische Informationen sind weitgehend graphartig aufgebaut. Das bedeutet, dass Objekte häufig mit einer Vielzahl anderer Objekte verknüpft sind. So ist eine Person beispielsweise Mitglied in mehreren Gremien, das Gremium hat mehrere Sitzungen abgehalten und zu diesen Sitzungen gibt es jeweils zahlreiche Drucksachen, die ihrerseits wieder zahlreiche Dokumente enthalten.</p>
<p>Eine OParl-Schnittstelle gibt jedem einzelnen Objekt eine eindeutige Adresse, eine URL. Somit kann die Schnittstelle den Verweis von einem Objekt, beispielsweise einem Gremium, auf ein anderes Objekt, etwa ein Mitglied des Gremiums, dadurch ausgeben, dass im Kontext des Gremiums die URL des Mitglieds ausgeben wird. Der Client kann somit ausgehend von einem bestimmten Objekt die anderen Objekte im System finden, indem er einfach den angebotenen URLs folgt. Dieses Prinzip wird auch &quot;Follow Your Nose&quot; genannt<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a>.</p>
</section>
<section id="linked_data" class="level3">
<h3><span class="header-section-number">4.1.7</span> Linked Data</h3>
<p>Der Begriff &quot;Linked Data&quot; steht für die Beschreibung von Daten in einer Form, die diese über ihren ursprünglichen Kontext hinaus verständlich macht.<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a></p>
<p>Kern von Linked Data ist die Möglichkeit, alle Bestandteile von Daten in Form von Tripeln zu beschreiben, das sind dreiteilige Informationseinheiten aus einem Subjekt, einem Prädikat und einem Objekt. Alle drei Bestandteile können in Form global eindeutiger &quot;Uniform Resource Identifier&quot; (URI) abgebildet werden.</p>
<p>Nach dem Linked-Data-Prinzip könnte beispielsweise der Vorname einer Person mit dem folgenden Tripel beschrieben werden:</p>
<pre><code>Subjekt: http://dbpedia.org/page/John_Doe_(musician)
Prädikat: http://xmlns.com/foaf/0.1/givenName
Objekt: http://dbpedia.org/page/John_(given_name)</code></pre>
<p>Hierbei macht man von der Tatsache Gebrauch, dass das Subjekt, also die Person, um die es geht, bereits mittels ihrer URI eindeutig identifiziert werden kann und dass bestenfalls unter dieser URI weitere Informationen zu der Person abrufbar sind. Auch für das Prädikat &quot;Person hat den Vornamen&quot; liegt bereits eine Beschreibung in einem gebräuchlichen Vokabular vor, auf das hier verwiesen werden kann. Und schließlich kann sogar der eigentliche Vorname in Form einer URI abgebildet werden, nämlich als Verweis auf eine umfangreiche Beschreibung dieses Namens.</p>
<p>Das Ziel von OParl ist es, mit der vorliegenden Version 1.0 der Spezifikation, die Nutzung solcher allgemeingültigen Vokabulare für die Veröffentlichung von parlamentarischen Informationen zu begünstigen und die automatisierte Verarbeitung und Verknüpfung von Informationen, auch über die Grenzen verschiedener Informationssysteme hinweg, zu erleichtern.</p>
<p>Beispiele, wo dies sinnvoll ist, sind in der Praxis leicht zu finden. So finden sich beispielsweise in vielen lokalen Parlamenten immer wieder Fraktionen der selben Parteien, beispielsweise CDU und SPD. Mittels Linked Data wäre es möglich, jede dieser Fraktionen mit einer externen URL zu verknüpfen<a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a> und somit erkennbar zu machen, zu welcher Partei diese Fraktion gehört. Ebenso finden sich viele inhaltliche Ähnlichkeiten bei Gremien wie zum Beispiel Ausschüssen (z.B. Hauptausschuss, Verkehrsausschuss etc.) oder bei Arten von Drucksachen (z.B. Anträge, Anfragen, Mitteilungen, Beschlussvorlagen).</p>
<p>OParl lässt in Version 1.0 der Spezifikation noch viele Aufgaben, die die Vereinheitlichung dieses Vokabulars betreffen, offen. Jedoch wird durch die Verwendung von <a href="#jsonld">JSON-LD</a> als Serialisierungsformat der Grundstein für eine Vereinheitlichung im Sinne von Linked Data gelegt.</p>
</section>
</section>
<section id="zukunftssicherheit" class="level2">
<h2><span class="header-section-number">4.2</span> Zukunftssicherheit</h2>
<p>Wie unter <a href="#designprinzipien">Designprinzipien</a> beschrieben, ist diese erste Version der OParl-Spezifikation bereits im Wesentlichen von den Zielen der einfachen Implementierbarkeit und Migration geleitet.</p>
<p>Der Aufwand, den die Betreiber von parlamentarischen Informationssystemen bei der Bereitstellung von OParl-konformen Schnittstellen betreiben, soll auch bei der zukünftigen Weiterentwicklung dieser Spezifikation berücksichtigt werden. Ebenso soll den Entwicklern von Client-Software zukünftig entgegen kommen, dass ihre bestehenden Clients auch mit Servern kommunizieren können, die eine neuere Version der OParl-Spezifikation unterstützen. Dieser Wunsch ist bereits im Designprinzip <a href="#erweiterbarkeit">Erweiterbarkeit</a> ausformuliert.</p>
<p>Mit anderen Worten: die Autoren der OParl-Spezifikation beabsichtigen größtmögliche Zukunftssicherheit und zukünftige Abwärtskompatibilität. Dieses Ziel wird in Zukunft natürlich abgewägt werden müssen mit dem Wunsch, sich an Veränderungen und neue Erkenntnisse anzupassen. Eine Garantie für Zukunftssicherheit kann insofern niemand aussprechen.</p>
</section>
<section id="http-und-https" class="level2">
<h2><span class="header-section-number">4.3</span> HTTP und HTTPS</h2>
<p>OParl-Server und -Client kommunizieren miteinander über das HTTP-Protokoll.</p>
<p>Hierbei SOLL eine verschlüsselte Variante des Protokolls, auch HTTPS genannt, zum Einsatz kommen, alternativ kann jedoch auch unverschlüsseltes HTTP verwendet werden. Welche Verschlüsselungstechnologie im Fall von HTTPS gewählt wird, obliegt dem Betreiber bzw. Server-Implementierer.</p>
<p>Die Wahl des unverschlüsselten oder verschlüsselten HTTP-Zugriffs hat Auswirkung auf die im System verwendeten URLs. Wie im Kapitel <a href="#urls">URLs</a> beschrieben, verfolgt diese Spezifikation die Festlegung auf genau eine &quot;kanonische&quot; URL je Ressource (URL-Kanonisierung).</p>
<p>Bei unverschlüsseltem Zugriff wird allen URLs, die auf das betreffende System zeigen, das Schema &quot;http://&quot; voran gestellt, beim verschlüsselten Zugriff stattdessen &quot;https://&quot;.</p>
<p>Es ist daher ZWINGEND, dass der Server-Betreiber sich zur URL-Kanonisierung für nur eine von beiden Varianten entscheidet. Beantwortet das System regulär Anfragen über HTTPS mit der Auslieferung von Objekten etc., dann MUSS das System bei Anfragen an die entsprechenden URLs ohne &quot;https://&quot; Schema mit einer Weiterleitung antworten (HTTP Status-Code 301).</p>
<p>Gleiches gilt umgekehrt: beantwortet das System regulär Anfragen über unverschlüsseltes HTTP, dann MÜSSEN Anfragen auf die entsprechenden URLs mit &quot;https://&quot;-Schema mit einer HTTP-Weiterleitung (HTTP Status-Code 301) beantwortet werden.</p>
</section>
<section id="urls" class="level2">
<h2><span class="header-section-number">4.4</span> URLs</h2>
<p>Den URLs (für &quot;Uniform Resource Locators&quot;, auch URI für &quot;Uniform Resource Identifier&quot;) kommt bei einer OParl-konformen API eine besondere Bedeutung zu und es werden eine Reihe von Anforderungen an die Verarbeitung von URLs gestellt.</p>
<p>Die grundsätzliche Funktionsweise von URLs ist in RFC3986 beschrieben<a href="#fn9" class="footnoteRef" id="fnref9"><sup>9</sup></a>.</p>
<p>Der Aufbau einer beispielhaften URL mit den Bezeichnungen, wie sie in diesem Dokument Verwendung finden:</p>
<pre><code>http://refserv.oparl.org/bodies/0/committees/4/members/?skip=234
\__/   \_______________/\_____________________________/ \______/
 |         |                  |                           |
Schema    Host               Pfad                        Query-String</code></pre>
<section id="url-kanonisierung" class="level3">
<h3><span class="header-section-number">4.4.1</span> URL-Kanonisierung</h3>
<p>Absicht ist, dass jedes benannte Objekt, das ein Server über eine OParl-API anbietet, über genau eine URL identifizierbar und abrufbar ist. Diese Vereinheitlichung der URL nennen wir Kanonisierung.</p>
<p>Die Kanonisierung ist entscheidend, um erkennen zu können, ob zwei URLs das selbe Objekt repräsentieren. Sind zwei URLs identisch, sollen Clients daraus ableiten können, dass diese das selbe Objekt repräsentieren. Sind zwei URLs unterschiedlich, soll im Umkehrschluss die Annahme gelten, dass sie zwei verschiedene Objekte repräsentieren.</p>
<p>Der OParl-konforme Server MUSS für jedes benannte Objekt eine kanonische URL bestimmen können.</p>
<p>Die URL-Kanonisierung betrifft sämtliche Bestandteile der URL. Entsprechend beginnt diese schon beim <strong>Schema</strong> und bei der Entscheidung durch den Betreiber, ob eine OParl-API regulär über HTTP oder über HTTPS erreichbar sein soll (vgl. <a href="#http-und-https">HTTP und HTTPS</a>).</p>
<p>Der <strong>Host</strong>-Teil der URL wird ebenfalls durch die Konfiguration des Betreibers festgelegt. Obwohl technisch auch die Verwendung einer IP-Adresse (z.B. &quot;123.123.123.123&quot;) möglich wäre, SOLL der Betreiber einen mit Bedacht gewählten Host-Namen einsetzen. Die Vorteile dieser Lösung gegenüber der Verwendung einer IP-Adresse sind vielfältig:</p>
<ul>
<li>NutzerInnen können Host-Namen lesen und interpretieren</li>
<li>In Kombination mit der richtigen Domain (oder Subdomain) kann der Hostname kommunizieren, wer der Betreiber ist.</li>
<li>Host-Namen können zwischen verschiedenen technischen Systemen (bzw. von IP-Adresse zu IP-Adresse) migriert werden, was hilft, die Langlebigkeit der URLs zu gewährleisten</li>
</ul>
<p>Eine URL wie</p>
<pre><code>http://oparl.ratsinformation.stadt-koeln.de/</code></pre>
<p>kommuniziert beispielsweise direkt die Zugehörigkeit zur Stadt Köln als Betreiber des Systems. Die Bezeichnung &quot;ratsinformation&quot; in der Subdomain zeigt den Zweck des Systems allgemein verständlich an. Der Host-Name &quot;oparl.ratsinformation.stadt-koeln.de&quot; deutet an, dass diese URL zu einer OParl-Schnittstelle zu diesem System gehört.</p>
<p>Um die Kanonisierung zu gewährleisten, sind vom Betreiber alle notwendigen Faktoren auszuschließen, die dazu führen können, dass eine Ressource neben der kanonischen URL noch über andere URLs abrufbar ist. Diese Faktoren könnten sein:</p>
<ul>
<li><p>Der selbe Server antwortet nicht nur über den kanonischen Host-Namen, sondern auch noch über andere Host-Namen. Das könnte zum Beispiel der Fall sein, wenn der Host-Name als CNAME für einen anderen Namen konfiguriert wurde oder wenn ein DNS A-Record für die IP-Adresse des Servers existiert.</p></li>
<li><p>Der Server ist neben dem Host-Namen auch über die IP-Adresse erreichbar.</p></li>
<li><p>Zusätzliche Domains, die einen A-Record auf den selben Server besitzen</p></li>
</ul>
<p>Zu der kanonischen Beispiel-URL http://oparl.ratsinformation.stadt-koeln.de/ wären eine Reihe von nicht-kanonischen URL-Varianten denkbar, die technischen auf den selben Server führen könnten:</p>
<ul>
<li>http://83.123.89.102/</li>
<li>http://oparl.ratsinformation.stadtkoeln.de/</li>
<li>http://risserv.stadt-koeln.de/</li>
</ul>
<p>Falls es aus technischen Gründen nicht möglich ist, den Zugang auf das OParl-System über nicht-kanonische URLs zu unterbinden, SOLL eine entsprechende HTTP-Anfrage mit einer Weiterleitung auf die entsprechende kanonische URL beantwortet werden. Dabei ist der HTTP-Status-Code 301 zu verwenden.</p>
<p>Server-Implementierern wird empfohlen, hierfür den Host-Header der HTTP-Anfrage auszuwerten und mit der konfigurierten Einstellung für den kanonischen Hostnamen des Systems abzugleichen.</p>
<p>Beim <strong>Pfad</strong>-Bestandteil der URL MÜSSEN Server-Implementierer darüber hinaus beachten, dass nur jeweils eine Schreibweise als die kanonische Schreibweise gelten kann. Dazu gehört auch die Groß- und Kleinschreibung, die Anzahl von Schrägstrichen als Pfad-Trennzeichen, die Anzahl von führenden Nullen vor numerischen URL-Bestandteilen und vieles mehr.</p>
<p>Die Kanonisierung umfasst auch den <strong>Query-String</strong>-Bestandteil der URL. Wie auch beim Pfad, gilt hier, dass für jeden Parameter und jeden Wert im Query-String nur eine kanonische Schreibweise gelten MUSS.</p>
<p>Darüber hinaus SOLL der Server-Implementierer darauf achten, bei Verwendung von Query-String-Parametern diese in URLs immer nach dem selben Prinzip zu sortieren. Ein Beispiel: die beiden URLs</p>
<pre><code>http://oparl.meinris.de/members?body=1&amp;committee=2
http://oparl.meinris.de/members?committee=2&amp;body=1</code></pre>
<p>unterscheiden sich lediglich in der Reihenfolge der Query-String-Parameter. Da sie jedoch nicht identisch sind, müssen Clients annehmen, dass beide URLs verschiedene Objekte repräsentieren. In der Konsequenz kann es zu vermeidbarer Ressourcennutzugn sowohl auf Client- als auch auf Serverseite kommen.</p>
</section>
<section id="langlebigkeit" class="level3">
<h3><span class="header-section-number">4.4.2</span> Langlebigkeit</h3>
<p>Weiterhin ist es Absicht, dass URLs von Objekten langlebig sind, so dass sie, wenn sie einmal verbreitet wurden, langfristig zur Abfrage des dazugehörigen Objekts verwendet werden können.</p>
<p>Um dies zu gewährleisten, wird den <strong>Betreibern</strong> empfohlen, die Wahl der Domain, eventuell der Subdomain und letztlich des Host-Namens sorgfältig auf seine längerfristige Verwendbarkeit abzuwägen.</p>
<p><strong>Server-Implementierer</strong> SOLLEN darüber hinaus dafür sorgen, dass der Pfad-Bestandteil der URLs die Langlebigkeit der URLs unterstützt. Es gelten die folgenden Empfehlungen, die jedoch keinen Anspruch auf Vollständigkeit erheben:</p>
<ul>
<li><p><strong>Veränderliche Objekt-Eigenschaften nicht als URL-Bestandteil nutzen.</strong> In URLs sollten nur Eigenschaften des Objekts aufgenommen werden, die keinen Veränderungen unterliegen. Ändert sich beispielsweise die Kennung einer Drucksache im Verlauf ihrer Existenz, dann scheidet sie für die Bildung der URL aus.</p></li>
<li><p><strong>Technische Eigenschaften der Implementierung verbergen.</strong> Ist ein OParl-Server beispielsweise in PHP implementiert, sollte dies nicht dazu führen, dass im Pfad ein Bestandteil wie &quot;oparl.php/&quot; erscheint. Erfahrungsgemäß überdauern solche URLs nur kurz.</p></li>
</ul>
<p>Weitere Empfehlungen für langlebige URLs liefern Tim Berners-Lee<a href="#fn10" class="footnoteRef" id="fnref10"><sup>10</sup></a> sowie die Europäische Kommission<a href="#fn11" class="footnoteRef" id="fnref11"><sup>11</sup></a>.</p>
</section>
</section>
<section id="serialisierung-mittels-json-ld-und-jsonp" class="level2">
<h2><span class="header-section-number">4.5</span> Serialisierung mittels JSON-LD und JSONP</h2>
<p>Eine OParl-konforme API gibt Objekte in Form von JSON aus. Die Objekte werden dabei entsprechend der JSON-LD Spezifikation um Kontexte erweitert, welche die Selbstbschreibungsfähigkeit der ausgegebenen Daten verbessert. Auf Anforderung des Clients wird darüber hinaus JSONP unterstützt.</p>
<p>In jedem Fall MUSS ein Server die Anfrage eines Clients unter Verwendung des HTTP Content-type-Headers <code>application/json</code> beantworten.</p>
<section id="json" class="level3">
<h3><span class="header-section-number">4.5.1</span> JSON</h3>
<p>Die Abkürzung JSON steht für &quot;JavaScript Object Notation&quot;. Das JSON-Format ist in RFC4627<a href="#fn12" class="footnoteRef" id="fnref12"><sup>12</sup></a> beschrieben. Nachfolgend werden nur die wichtigsten Definitionen übernommen, um eine Terminologie zur weiteren Verwendung in diesem Dokument zu etablieren.</p>
<p>Das JSON-Format unterstützt die Ausgabe von vier verschiedenen primitiven Datentypen:</p>
<ul>
<li><em>Zeichenkette</em> (Unicode)</li>
<li><em>Zahl</em> (sowohl Ganzzahlen als auch Fließkommazahlen)</li>
<li><em>Wahrheitswert</em> (<code>true</code> oder <code>false</code>)</li>
<li><em>Null</em></li>
</ul>
<p>Darüber hinaus werden zwei komplexe Datentypen unterstützt:</p>
<ul>
<li><em>Objekt</em>: Eine Sammlung von Schlüssel-Wert-Paaren ohne Reihenfolge, wobei der Schlüssel eine Zeichenkette sein muss und der Wert ein beliebiger Datentyp sein kann.</li>
<li><em>Array</em>: Eine geordnete Liste mit beliebigen Datentypen.</li>
</ul>
<p>Beispiel eines Objekts in JSON-Notation:</p>
<pre class="sourceCode json" id="json_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;zeichenkette&quot;</span>: <span class="st">&quot;Das ist eine Zeichenkette&quot;</span>,
    <span class="dt">&quot;zahl&quot;</span>: <span class="fl">1.23456789</span>,
    <span class="dt">&quot;wahrheitswert&quot;</span>: <span class="dv">true</span>,
    <span class="dt">&quot;null&quot;</span>: <span class="dv">null</span>,
    <span class="dt">&quot;objekt&quot;</span>: {
        <span class="dt">&quot;foo&quot;</span>: <span class="st">&quot;bar&quot;</span>
    },
    <span class="dt">&quot;array&quot;</span>: [<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>]
}</code></pre>
</section>
<section id="jsonld" class="level3">
<h3><span class="header-section-number">4.5.2</span> JSON-LD</h3>
<p>Das Kürzel LD im Namen &quot;JSON-LD&quot; steht für &quot;Linked Data&quot;<a href="#fn13" class="footnoteRef" id="fnref13"><sup>13</sup></a>. Entsprechend erweitert die JSON-LD-Spezifikation<a href="#fn14" class="footnoteRef" id="fnref14"><sup>14</sup></a> das JSON-Format um die Möglichkeit,</p>
<ul>
<li>Objekte mit anderen Objekten zu verknüpfen,</li>
<li>Objekte und Eigenschaften bestimmten Typen zuzuordnen und damit</li>
<li>Auskunft über die semantische Bedeutung von Objekten und Eigenschaften zu geben.</li>
</ul>
<p>Ein Beispiel aus der JSON-LD-Spezifikation illustriert, wie JSON-LD ein Objekt um zusätzliche semantische Informationen erweitert. Als Ausgangspunkt dient eine Personenbeschreibung in gewöhnlichem JSON:</p>
<pre class="sourceCode json" id="jsonld_ex1"><code class="sourceCode json">{
  <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Manu Sporny&quot;</span>,
  <span class="dt">&quot;homepage&quot;</span>: <span class="st">&quot;http://manu.sporny.org/&quot;</span>,
  <span class="dt">&quot;image&quot;</span>: <span class="st">&quot;http://manu.sporny.org/images/manu.png&quot;</span>
}</code></pre>
<p>Als menschlicher Betrachter kann man leicht erkennen, dass die Eigenschaft <code>name</code> den Namen der Person enthält, dass <code>homepage</code> die Website der Person sein könnte und dass <code>image</code> die URL einer Bilddatei der Person sein könnte. Ein automatisierter Client jedoch, dem die Objekteigenschaften nicht bekannt sind, kann die Bedeutung dieser Eigenschaften nicht entschlüsseln.</p>
<p>Entsprechend der JSON-LD-Spezifikation kann diese Erläuterung über die <code>@context</code>-Eigenschaft direkt im selben Objekt, sozusagen als Unterobjekt, mitgeliefert werden:</p>
<pre class="sourceCode json" id="jsonld_ex2"><code class="sourceCode json">{
  <span class="dt">&quot;@context&quot;</span>:
  {
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;http://xmlns.com/foaf/0.1/name&quot;</span>,
    <span class="dt">&quot;image&quot;</span>: {
      <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://xmlns.com/foaf/0.1/img&quot;</span>,
      <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;@id&quot;</span>
    },
    <span class="dt">&quot;homepage&quot;</span>: {
      <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://xmlns.com/foaf/0.1/homepage&quot;</span>,
      <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;@id&quot;</span>
    }
  },
  <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Manu Sporny&quot;</span>,
  <span class="dt">&quot;homepage&quot;</span>: <span class="st">&quot;http://manu.sporny.org/&quot;</span>,
  <span class="dt">&quot;image&quot;</span>: <span class="st">&quot;http://manu.sporny.org/images/manu.png&quot;</span>
}</code></pre>
<p>Hier sind die Eigenschaften wie <code>image</code> einer URL wie http://schema.org/image zugewiesen. Ein Client, der diese URL kennt, kann daraus folgern, dass über die Objekteigenschaft <code>image</code> immer die URL eines Bildes zu finden ist. Das Schlüssel-Wert-Paar</p>
<pre><code>&quot;@type&quot;: &quot;@id&quot;</code></pre>
<p>sagt darüber hinaus aus, dass der Wert dieser Eigenschaft die URL eines anderen Objekts ist<a href="#fn15" class="footnoteRef" id="fnref15"><sup>15</sup></a>. Mittels <code>@type</code>-Deklaration könnte aber auch beispielsweise eine Eigenschaft, die im JSON-Sinn eine Zeichenkette ist, als Datum deklariert werden.</p>
<p>Am obigen Beispiel fällt auf, dass der <code>@context</code>-Teil des Objekts schon mehr Daten umfasst, als die eigentlichen Objekteigenschaften. Sinnvollerweise kann jedoch der gesamte Inhalt des <code>@context</code>-Teils in eine externe Ressource ausgelagert werden. Das folgende Beispiel verdeutlicht dies:</p>
<pre class="sourceCode json" id="jsonld_ex3"><code class="sourceCode json">{
  <span class="dt">&quot;@context&quot;</span>: <span class="st">&quot;http://json-ld.org/contexts/person.jsonld&quot;</span>,
  <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Manu Sporny&quot;</span>,
  <span class="dt">&quot;homepage&quot;</span>: <span class="st">&quot;http://manu.sporny.org/&quot;</span>,
  <span class="dt">&quot;image&quot;</span>: <span class="st">&quot;http://manu.sporny.org/images/manu.png&quot;</span>
}</code></pre>
<p>Die <code>@context</code>-Eigenschaft hat nun als Wert eine URL. Die URL (hier: http://json-ld.org/contexts/person.jsonld) gibt wiederum in JSON kodiert die Beschreibung aller möglichen Attribute des Objekts aus. Die Kontext-Beschreibung des JSON-LD-Objekts wurde somit in eine externe Ressource ausgelagert. Clients SOLLEN davon ausgehen, dass sich diese externen Kontextbeschreibungen nur selten ändern. Somit genügt es, bei Abruf vieler gleichartiger JSON-LD-Objekte vom Server die Kontext-Ressource nur einmal zu laden.</p>
<p>Im Sinne der JSON-LD-Spezifikation sind Objekte mit eingebettetem und externem Kontext identisch. Den Implementierern eines OParl-konformen Servers wird EMPFOHLEN, grundsätzlich die Kontextinformation mittels externer Ressourcen zu übermitteln. Die OParl Autoren werden hierzu die zu dieser Spezifikation passenden Ressourcen auf oparl.org für jegliche Verwendung zur Verfügung stellen (mehr dazu im <a href="#jsonld_ressourcen_oparlorg">Anhang</a>). Sollten Server-Implementierer zusätzliche Objekttypen benötigen, die nicht von dieser Spezifikation abgedeckt sind, SOLL entsprechend zusätzlich auf eigene Kontextressourcen unter geeigneten URLs verwiesen werden. Hierbei können herstellereigene und OParl-spezifische URls gemischt werden, wie in einem Beispiel weiter unten verfeutlicht wird.</p>
<p>JSON-LD ermöglicht es auch, für ein Objekt einen <strong>Objekttyp</strong> zu kommunizieren. So könnte passend zu unserem Beispiel ausgedrückt werden, um welche Art von Objekt es sich bei den vorliegenden Daten handelt. Dazu wird die <code>@type</code>-Eigenschaft verwendet, deren Wert eine URL ist:</p>
<pre class="sourceCode json" id="jsonld_ex4"><code class="sourceCode json">{
  <span class="dt">&quot;@context&quot;</span>: <span class="st">&quot;http://json-ld.org/contexts/person.jsonld&quot;</span>,
  <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;http://schema.org/Person&quot;</span>,
  <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Manu Sporny&quot;</span>,
  <span class="dt">&quot;homepage&quot;</span>: <span class="st">&quot;http://manu.sporny.org/&quot;</span>,
  <span class="dt">&quot;image&quot;</span>: <span class="st">&quot;http://manu.sporny.org/images/manu.png&quot;</span>
}</code></pre>
<p>Objekte können mehreren Typen zugeordnet sein und damit die Eigenschafen mehrerer Objekttypen nutzen. Im Fall von OParl kann diese Möglichkeit genutzt werden, um über die API Eigenschaften auszugeben, die nicht Teil des OParl-Schemas sind.</p>
<pre class="sourceCode json" id="jsonld_ex5"><code class="sourceCode json">{
  <span class="dt">&quot;@context&quot;</span>: {
    <span class="dt">&quot;oparl&quot;</span>: <span class="st">&quot;http://oparl.org/schema/1.0/&quot;</span>,
    <span class="dt">&quot;vendor&quot;</span>: <span class="st">&quot;http://www.vendor.de/oparl/schema/&quot;</span>
  },
  <span class="dt">&quot;@type&quot;</span>: [<span class="st">&quot;oparl:Paper&quot;</span>, <span class="st">&quot;vendor:Drucksache&quot;</span>],
  <span class="dt">&quot;title&quot;</span>: <span class="st">&quot;Beschlussvorlage zum Haushalt&quot;</span>,
  <span class="dt">&quot;created&quot;</span>: <span class="st">&quot;2013-05-29T14:17:39+02:00&quot;</span>,
  <span class="dt">&quot;aktenzeichen&quot;</span>: <span class="st">&quot;ABC123&quot;</span>
}</code></pre>
<p>Das Beispiel oben zeigt ein Objekt, das über die <code>@context</code>-Eigenschaft zwei verschiedene URLs als sogenannte Vokabulare referenziert. Das eine Vokabular wird durch das Namensraum-Präfix <code>oparl</code> repräsentiert, das zweite (herstellereigene) durch das Namensraum-Präfix <code>vendor</code>.</p>
<p>Durch das Schlüsselwort <code>@type</code> wird nun dem Objekt ein oder mehrere Objekttypen zugewiesen. Dabei werden die zuvor beschriebenen Namensraum-Präfixe genutzt. Ein JSON-LD-Client verarbeitet Namensraum-Präfixe und Typenbezeichnung so, dass diese letztlich für jeden Objekttypen eine eindeutige URL ergeben.</p>
<ul>
<li>Aus <code>oparl:Paper</code> wird <code>http://oparl.org/schema/1.0/Paper</code></li>
<li>Aus <code>vendor:Drucksache</code> wird <code>http://www.vendor.de/oparl/schema/Drucksache</code></li>
</ul>
<p>TODO: Eventuell hier die Anforderung festhalten, dass jedes Objekt, das über eine OParl API ausgegeben wird, das <code>@type</code>-Schlüsselwort haben MUSS. Das ist noch nicht geklärt, da Listen hier eine Ausnahme bilden können.</p>
<p>Eine JSON-LD-konforme Ausgabe stellt noch weitere Anforderungen, von denen nachfolgend die wichtigsten zusammen gefasst werden.</p>
<ul>
<li><p><strong>Schlüssel müssen einzigartig sein</strong>: Es ist nicht zulässig, in einem JSON-LD-Objekt mehrmals den selben Schlüssel für ein Attribut zu verwenden.</p></li>
<li><p><strong>Groß- und Kleinschreibung werden unterschieden</strong>: Groß- und Kleinschreibung sind bei allen Bestandteilen eines JSON-LD-Dokuments zu beachten, also auch bei den Attributnamen.</p></li>
<li><p><strong>Listen gelten grundsätzlich als nicht sortiert</strong>: Die JSON-Spezifikation geht bei Listen grundsätzlich davon aus, dass diese eine Sortierung besitzen. Im Unterschied dazu gilt für JSON-LD, dass die Reihenfolge der Werte zwischen zwei eckigen Klammern <code>[</code> und <code>]</code> als zufällig gilt, sofern nicht anders spezifiziert. Wer einen JSON-LD-Objekttyp spezifiziert, kann jedoch mittels des Schlüsselwortes <code>@list</code> kennzeichnen, dass es sich hierbei um eine sortierte Liste handelt.</p>
<p>Wo immer die OParl-Spezifikation eine stabile, nicht zufällige Sortierung von Listen erwartet, wird dies eigens erwähnt werden. Das OParl-JSON-LD-Vokabular wird an der entsprechenden Stelle das Schlüsselwort <code>@list</code> verwenden.</p></li>
<li><p><strong>Verschachtelte Listen sind nicht möglich</strong>: JSON-LD erlaubt keine Listen, die wiederum Listen als Werte enthalten. TODO: <a href="https://github.com/OParl/specs/issues/115">Issue 115</a>.</p></li>
</ul>
</section>
<section id="jsonp" class="level3">
<h3><span class="header-section-number">4.5.3</span> JSONP</h3>
<p>Eine Einschränkung bei der Nutzung von JSON ist das Sicherheitsmodell von Web-Browsern. Die gängigen Browser erlauben es innerhalb von Webanwendungen nicht, JSON-Ressourcen von Domains auszulesen, die nicht der Domain entsprechen, von der die Webanwendung selbst geladen wurde. AnwendungsentwicklerInnen sind dadurch bei der Implementierung von Client-Anwendungen eingeschränkt.</p>
<p>Diese Einschränkung gilt nicht fürt JSONP<a href="#fn16" class="footnoteRef" id="fnref16"><sup>16</sup></a>. Durch JSONP (TODO: Abkürzung erläutern) wird die JSON-Notation so erweitert, dass der ausgegebene Code ausführbarer JavaScript-Code wird. Damit wird erreicht, dass der JSON-Code über die Grenzen von Domains hinweg direkt von Webanwendungen eingebunden werden kann.</p>
<p>Das folgende Beispiel verdeutlicht den Unterschied zwischen JSON und JSONP. Zunächst ein einfaches JSON-Beispiel:</p>
<pre class="sourceCode json" id="jsonp_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;foo&quot;</span>: <span class="st">&quot;bar&quot;</span>
}</code></pre>
<p>Durch Einbettung in eine sogenannte Callback-Funktion wird daraus JSONP:</p>
<pre class="sourceCode json" id="jsonp_ex2"><code class="sourceCode json"><span class="er">mycallback(</span>{
    <span class="dt">&quot;foo&quot;</span>: <span class="st">&quot;bar&quot;</span>
}<span class="er">)</span></code></pre>
<p>Der Name der Callback-Funktion (im Beispiel &quot;mycallback&quot;) wird grundsätzlich bei der Anfrage vom Client bestimmt, und zwar mittels URL-Parameter.</p>
<p>Für eine OParl-konforme Schnittstelle wird EMPFOHLEN, dass der Server die JSONP-Ausgabe unterstützt. Die JSONP-Ausgabe MUSS in diesem Fall für sämtliche Abfragen möglich sein. Eine JSONP-Unterstzung nur für bestimmte Anfragen ist nicht vorgesehen.</p>
<p>Der URL-Parameter, den Clients zur Aktivierung der JSONP-Ausgabe verwenden, MUSS <code>callback</code> lauten. Der Wert des <code>callback</code>-URL-Parameters MUSS vom Server unverändert als Callback-Funktionsname verwendet werden.</p>
<p>Aus Sicherheitsgründen MUSS der Client den Wert des <code>callback</code>-Parameters aus einem eingeschränkten Zeichenvorrat bilden, erlaubt sind ausschließlich die Klein- und Großbuchstaben von a bis z bzw. A bis Z sowie die Ziffern von 0 bis 9.</p>
<p>Hält sich der Client nicht an diese Einschränkung und wird ein <code>callback</code>-Parameter mit nicht erlaubten Zeichen verwendet, SOLL der Server die Anfrage mit einer HTTP XXX (Bad Request) Antwort bedienen. (TODO: Status Code einfügen oder prüfen, welche HTTP-Antwort die geeignetste ist.)</p>
<ul>
<li>TODO: Spezifikation finden/verlinken. (RFC gibt es nicht)</li>
<li>https://github.com/OParl/specs/issues/67</li>
</ul>
</section>
</section>
<section id="benannte-und-anonyme-objekte" class="level2">
<h2><span class="header-section-number">4.6</span> Benannte und anonyme Objekte</h2>
<p>Die JSON-LD-Spezifikation unterscheidet zwischen benannten und anonymen Objekten. Da die Unterscheidung auch für OParl von Bedeutung ist, wird sie hier genauer erläutert.</p>
<section id="benannte-objekte" class="level3">
<h3><span class="header-section-number">4.6.1</span> Benannte Objekte</h3>
<p>Benannte Objekte sind innerhalb einer JSON-LD-Ausgabe diejenigen Objekte, die durch eine eigene URL identifiziert werden. Als Beispiel dient ein fiktives Objekt, das ein Client über die URL</p>
<pre><code>http://refserv.oparl.org/bodies/0/committees/1</code></pre>
<p>abruft:</p>
<pre class="sourceCode json" id="benanntanonym_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/committees/1&quot;</span>,
    <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;http://oparl.org/schema/1.0/committee&quot;</span>,
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Hauptausschuss&quot;</span>
}</code></pre>
<p>Das Objekt enthält eine Eigenschaft <code>@id</code> mit der URL des Objekts als Wert.</p>
<p>Das benannte Objekt kann über seine URL sowohl eindeutig identifiziert als auch direkt abgerufen werden.</p>
</section>
<section id="anonyme-objekte-blank-nodes" class="level3">
<h3><span class="header-section-number">4.6.2</span> Anonyme Objekte (Blank Nodes)</h3>
<p>Im Gegensatz dazu können Objekte existieren, die keine eigene URL haben.</p>
<p>Wenn diese im Semantic Web verwendet werden, dann führen sie zu erheblichen Problemen. Sandro Hawke (W3C) hat diese so zusammengefasst:</p>
<blockquote>
<p>In general, blank nodes are a convenience for the content provider and a burden on the content consumer. Higher quality data feeds use fewer blank nodes, or none. Instead, they have a clear concept of identity and service for every entity in their data.</p>
</blockquote>
<blockquote>
<p>If someone in the middle tries to convert (Skolemize) blank nodes, it’s a large burden on them. Specifically, they should provide web service for those new URIs, and if they get updated data from their sources, they’re going to have a very hard [perhaps impossible] time understanding what really changed. (Zitiert nach http://richard.cyganiak.de/blog/2011/03/blank-nodes-considered-harmful/)</p>
</blockquote>
<p>Ein Beispiel dafür findet sich in der Beratungsfolge einer Drucksache. Das nachfolgende Beispiel zeigt eine Drucksache, deren Beratungsfolge über die Eigenschaft <code>consultations</code> kodiert ist.</p>
<p>TODO: Nachstehendes Beispiel und Text dazu auf stimmiges Paper Objekt umschreiben.</p>
<pre class="sourceCode json" id="benanntanonym_ex2"><code class="sourceCode json">{
    <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/456&quot;</span>,
    <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;http://oparl.org/schema/1.0/paper&quot;</span>,
    <span class="dt">&quot;title&quot;</span>: <span class="st">&quot;Beschlussvorlage zur Jugendförderung&quot;</span>,
    <span class="dt">&quot;consultations&quot;</span>: [
        {
            <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;http://oparl.org/schema/1.0/consultation&quot;</span>,
            <span class="dt">&quot;committee&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/committees/1&quot;</span>,
            <span class="dt">&quot;meeting&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/committees/1/meetings/123&quot;</span>,
            <span class="dt">&quot;agendaitem&quot;</span>: <span class="st">&quot;7.2.4&quot;</span>,
            <span class="dt">&quot;authoritative&quot;</span>: <span class="dv">false</span>
        },
        {
            <span class="er">...</span>
        }
    ]
}</code></pre>
<p>Die Eigenschaft <code>consultations</code> ist eine Liste mit einem oder mehreren Objekten vom Typ <code>consultation</code>. Diese Objekte spiegeln wieder, in welchen Sitzungen die vorliegende Drucksache beraten wurde bzw. wird.</p>
<p>Die einzelnen <code>consultation</code>-Objekte haben keine <code>@id</code>-Eigenschaft, daher handelt es sich dabei um anonyme Objekte, auch <em>Blank Nodes</em> genannt. Diese Objekte können nicht einzeln, sondern nur im Kontext verbundener Objekte, wie hier im Beispiel im Kontext einer Drucksache, abgerufen werden.</p>
<p>TODO: Weitere Objekttypen nennen, in denen Blank Nodes vorkommen.</p>
</section>
</section>
<section id="objektlisten" class="level2">
<h2><span class="header-section-number">4.7</span> Objektlisten</h2>
<p>Über die OParl-API können entweder einzelne (benannte) Objekte, beispielsweise eine bestimmte Drucksache, oder Listen von Objekten, etwa die Liste aller Sitzungen einer Körperschaft, abgefragt werden.</p>
<p>Fragt ein Client eine Liste von Objekten an, hat der Server mehrere Möglichkeiten, diese Anfrage zu beantworten.</p>
<p>In jedem Fall werden die einzelnen Objekte, die Bestandteile der Liste sind (wie z.B. die einzelnen Drucksachen) durch die URL des jeweiligen Objekts repräsentiert. Objektlisten sind also tatsächlich immer Listen von URLs.</p>
<section id="vollständige-listenausgabe" class="level3">
<h3><span class="header-section-number">4.7.1</span> Vollständige Listenausgabe</h3>
<p>In der einfachsten Form gibt der Server die Liste als Objekt mit nur einer einzigen Eigenschaft <code>items</code> aus. Der Wert dieser Eigenschaft ist die <strong>vollständige Liste</strong> der URLs aller in der Liste enthaltenen Objekte.</p>
<p>Diese einfachste Form der Antwort eignet sich nur für Listen mit einer begrenzten Anzahl von Einträgen, wie beispielsweise die Liste der Mitglieder einer Organisation.</p>
<p>Beispiel:</p>
<pre class="sourceCode json" id="objektlisten_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;items&quot;</span>: [
        <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/2&quot;</span>,
        <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/5&quot;</span>,
        <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/7&quot;</span>,
    ]
}</code></pre>
</section>
<section id="paginierung" class="level3">
<h3><span class="header-section-number">4.7.2</span> Paginierung</h3>
<p>Für längere Listen ist eine Blätterfunktion bzw. Paginierung vorgesehen. Darunter versteht man die Aufteilung der Liste in kleinere Teilbereiche, die wir hier als &quot;Listenseiten&quot; bezeichnen. Zweck ist, die einzelnen Listenseiten mit je einer eigenen API-Anfrage abrufbar zu machen. Die Aufteilung der Liste in Listenseiten erfolgt durch den Server und kann vom Client nicht beeinflusst werden, sie bleibt jedoch zwischen den einzelnen unverändert.</p>
<p>Listen mit mehr als 100 Einträgen SOLL der Server nur teilweise ausgeben und dem Client dabei eine <strong>Paginierung</strong> anbieten, um weitere Listenteile abzurufen. Dabei wird EMPFOHLEN, die Zahl der jeweils ausgegebenen Listeneinträge wiederum auf maximal 100 zu begrenzen.</p>
<p>Das nachstehende Beispiel zeigt, wie dem Client die URL zum &quot;Blättern&quot;, also zum Aufruf der jeweils nächsten Listenseite, angeboten wird.</p>
<pre class="sourceCode json" id="objektlisten_ex2"><code class="sourceCode json">{
    <span class="dt">&quot;items&quot;</span>: [
        <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/2&quot;</span>,
        <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/5&quot;</span>,
        <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/7&quot;</span>,
    ],
    <span class="dt">&quot;nextPage&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/?skip=7&quot;</span>,
    <span class="dt">&quot;count&quot;</span>: <span class="dv">118</span>
}</code></pre>
<p>Wie oben zu sehen, enthält das Beispiel-Objekt nun eine zusätzliche Eigenschaft <code>nextPage</code>. Der Wert dieser Eigenschaft ist eine URL, die dem Client dazu dient, die weiteren Einträge der Liste abzurufen.</p>
<p>Die Eigenschaft <code>count</code> DARF bei Listen grundsätzlich ausgegeben werden und SOLL bei mehrseitigen Listen ausgegeben werden. Ihr Wert ist eine Zahl und gibt an, wie viele Einträge die vollständige Liste aller Objekte enthält.</p>
<p>Ruft der Client die unter <code>nextPage</code> angegebene URL auf, erhält er wiederum ein Listenobjekt. Dieses Objekt MUSS, sofern noch immer mehr Listeneinträge vorhanden sind, als ausgegeben wurden, wiederum die <code>nextPage</code> Eigenschaft mit einer URL enthalten. Um alle Einträge einer Liste zu erfassen, folgt der Client also jeweils der URL, die in der <code>nextpage</code> Eigenschaft angegeben ist.</p>
<figure>
<img src="images/pagination01.png" alt="Paginierung: Schematische Darstellung" /><figcaption>Paginierung: Schematische Darstellung</figcaption>
</figure>
<p>Server-Implementierer entscheiden selbst, wie die <code>nextPage</code>-URL aufgebaut ist und tragen damit selbst Verantwortung für die Funktionsweise der Paginierung. Bei der Entscheidung für eine Form der Implementierung sind weitere Anforderungen zu berücksichtigen:</p>
<ul>
<li>Es ist davon auszugehen, dass Clients für den gesamten Abruf aller Seiten einer Liste längere Zeit benötigen. In der Zwischenzeit kann sich der Inhalt der Liste bereits ändern, etwa durch das Hinzukommen neuer Einträge. Die Paginierung ist so zu implementieren, dass sich das Hinzukommen oder Entfernen von Einträgen möglichst nicht auf einen Client auswirkt, der aktuell die Liste paginiert, um alle Einträge abzurufen.</li>
</ul>
<p>Eine ungünstige (unstabile) Form der Implementierung soll hier mit Hilfe einer SQL-Abfrage illustriert werden. Gegeben sei eine Tabelle <code>example</code>, die einen numerischen Primärschlüssel <code>id</code> enthält. Nehmen wir an, die erste Seite der Liste wird mit der Abfrage</p>
<pre class="sourceCode sql" id="objektlisten_ex3"><code class="sourceCode sql"><span class="kw">SELECT</span> * <span class="kw">FROM</span> example <span class="kw">ORDER</span> <span class="kw">BY</span> <span class="kw">id</span> <span class="kw">LIMIT</span> <span class="dv">10</span> OFFSET <span class="dv">0</span></code></pre>
<p>abgerufen und würde 10 Datensätze mit den <code>id</code>s 1 bis 10 zurück liefern. Dann wird die zweite Seite mit der Abfrage</p>
<pre class="sourceCode sql" id="objektlisten_ex4"><code class="sourceCode sql"><span class="kw">SELECT</span> * <span class="kw">FROM</span> example <span class="kw">ORDER</span> <span class="kw">BY</span> <span class="kw">id</span> <span class="kw">LIMIT</span> <span class="dv">10</span> OFFSET <span class="dv">10</span></code></pre>
<p>abgerufen. Sofern sich an der Tabelle zwischen den beiden Abfragen nichts geändert hat, liefert die zweite Abfrage Datensätze mit <code>id</code> &gt; 10 aus. Sollte zwischen den beiden Abfragen jedoch beispielsweise der Datensätze mit der <code>id</code> 1 gelöscht worden sein, liefert die zweite Abfrage Datensätze mit <code>id</code> &gt; 9. In diesem Fall würde dies nur dazu führen, dass ein Datensatz (<code>id</code> = 10) zweimal ausgegeben wird. Bei ungünstigeren Konstellationen wäre auch denkbar, dass eine instabile Paginierung bewirkt, dass einzelne Datensätze beim Paginieren übergangen werden.</p>
<p>Besser wäre es, bei der Paginierung die Eintragsgrenze, bei der eine Listenseite beginnen soll, explizit zu benennen. Wurden auf der ersten Listenseite die Datensätze mit den <code>id</code>s 1 bis 10 ausgegeben, so könnte der Folgeaufruf, um beim SQL-Beispiel zu bleiben, so aussehen:</p>
<pre class="sourceCode sql" id="objektlisten_ex5"><code class="sourceCode sql"><span class="kw">SELECT</span> * <span class="kw">FROM</span> example <span class="kw">WHERE</span> <span class="kw">id</span> &gt; <span class="dv">10</span> <span class="kw">ORDER</span> <span class="kw">BY</span> <span class="kw">id</span> <span class="kw">LIMIT</span> <span class="dv">10</span></code></pre>
<p>TODO: Bestimmte Listen können mit Einschränkung auf einen Datumsbereich abgefragt werden. Mehr dazu in https://github.com/OParl/specs/issues/30 Fraglich ist, ob das in diesem Kapitel behandelt werden sollte oder in einem anderen.</p>
</section>
<section id="listen-als-eigenschaften-von-objekten" class="level3">
<h3><span class="header-section-number">4.7.3</span> Listen als Eigenschaften von Objekten</h3>
<p>TODO: Listen können auch als Werte von Objekteigenschaften auftreten. Hierbei gibt es keine Paginierung, sondern es müssen alle URLs aufgelistet werden. Das ist auszuformulieren und mit Beispielen zu zeigen.</p>
</section>
</section>
<section id="feeds" class="level2">
<h2><span class="header-section-number">4.8</span> Feeds</h2>
<p>Feeds sind spezielle Arten von <a href="#objektlisten">Objektlisten</a>, für die besondere Anforderungen gelten. Es werden drei verschiedene Feeds spezifiziert.</p>
<p>Der Begriff &quot;Feed&quot; ist eine Anlehnung an die weit verbreiteten RSS- oder Atom-Feeds, deren Publikationslogik im Wesentlichen auf der chronologischen Sortierung beruht. Im Unterschied zu Atom oder RSS ist hier jedoch keine XML-Ausgabe beabsichtigt.</p>
<p>Die Feeds sollen es Clients ermöglichen, schnelle und ressourcenschonende abzufragen, welche Objekte auf dem Server neu hinzugefügt, geändert oder entfernt wurden. Ziel ist, zu verhindern, dass Clients zur Aktualisierung ihres Caches den gesamten Datenbestand eines Servers abrufen müssen.</p>
<p>Ein OParl-Server SOLL jeden der nachfolgend beschriebenen Feeds anbieten, sofern möglich.</p>
<p>Für alle Feeds drei gilt, dass mindestens ein Zeitraum von 365 Tagen, gerechnet vom Zeitpunkt der Abfrage, abgedeckt werden SOLL.</p>
<section id="feed_neue_objekte" class="level3">
<h3><span class="header-section-number">4.8.1</span> Der Feed &quot;Neue Objekte&quot;</h3>
<p>Der Feed für neue Objekte listet die URLs neu hinzugekommener Objekte in der Reihenfolge des Datums ihrer Erstellung, wobei die jüngsten Objekte zuerst ausgegeben werden.</p>
<p>Die Definition, was ein &quot;neues&quot; Objekt bzw. die &quot;Erstellung&quot; bedeutet, kann zwischen Systemen und Objekttypen variieren. So werden bestimmte Objekte in einigen Systemen zunächst erstellt und erst dann für die Öffentlichkeit freigegeben. In diesem Fall ist im Sinne dieses Feeds die Freigabe als Zeitpunkt der Erstellung zu verwenden.</p>
<p>Der Feed SOLL sämtliche Objekttypen umfassen, die in einem System geführt werden.</p>
<p>Das nachstehende Beispiel zeigt die mögliche Ausgabe des Feeds:</p>
<pre class="sourceCode json" id="feed_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;items&quot;</span>: [
        {
            <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/21/documents/3&quot;</span>,
            <span class="dt">&quot;created&quot;</span>: <span class="st">&quot;2014-01-07T12:59:01.038+0100&quot;</span>
        },
        {
            <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/21&quot;</span>,
            <span class="dt">&quot;created&quot;</span>: <span class="st">&quot;2014-01-05T18:29:37.123+0100&quot;</span>
        },
        {
            <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/20/documents/5&quot;</span>,
            <span class="dt">&quot;created&quot;</span>: <span class="st">&quot;2014-01-04T11:26:48.638+0100&quot;</span>
        },
        <span class="er">...</span>
    ],
    <span class="dt">&quot;nextPage&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/feeds/new/?t=20140106170100402&quot;</span>
}</code></pre>
<p>Wie im Beispiel zu sehen ist, enthält die Eigenschaft <code>items</code> eine Liste mit unbenannten Objekten. Dies ist ein Unterschied zu herkömmlichen Objektlisten, bei denen an dieser Stelle lediglich URLs als Listeneinträge erwartet werden.</p>
<p>Jedes der Objekte in der <code>items</code>-Liste MUSS seinerseits wiederum zwei Eigenschaften besitzen:</p>
<ul>
<li><code>@id</code>: Die URL des neuen Objekts</li>
<li><code>created</code>: Der Zeitpunkt der Erzeugung des Objekts</li>
</ul>
<p>Wie für Objektlisten üblich, SOLL auch für Feeds automatisch eine Aufteilung auf mehrere Seiten vorgenommen und ein Paginierungs-Link angeboten werden, um die übertragenen Datenmengen je Abruf einzugrenzen.</p>
<p>Der jeweils in der Eigenschaft <code>created</code> ausgegebene Zeitpunkt SOLL vom Server als Sortierkriterium der Liste genutzt werden. So können Clients den jeweils am Anfang der Liste vorgefundenen Zeitpunkt als Begrenzung für die zukünftige Abfrage des Feeds nutzen. Ein Beispiel zur Erläuterung:</p>
<p>Am 1. April 2014 ruft ein Client den Feed ab und findet im ersten Listeneintrag den <code>created</code>-Zeitpunkt <code>2014-03-31T18:02:34.058+0200</code> vor, den er sich als Grenzwert merkt. Beim nächsten Abruf des Feeds einige Tage später muss der Client die Liste nur so weit abarbeiten, so lange der <code>created</code>-Zeitpunkt der Einträge größer oder gleich dem Grenzwert ist.</p>
</section>
<section id="feed_geaenderte_objekte" class="level3">
<h3><span class="header-section-number">4.8.2</span> Der Feed &quot;Geänderte Objekte&quot;</h3>
<p>Der Feed für geänderte Objekte listet die URLs geänderter Objekte in der Reihenfolge des Datums ihrer Änderung, wobei das zuletzt Objekt zuerst ausgegeben wird.</p>
<p>Die Definition einer &quot;Änderung&quot; kann sich zwischen den Objekttypen unterscheiden. Tendenziell soll die Definition eher weiter ausgelegt werden, als enger. Als Änderung einer Organisation könnte es beispielsweise verstanden werden, wenn ein neues Mitglied zur Organisation hinzukommt. Das Erstellen eines Objekts (im Sinne des Feeds &quot;Neue Objekte&quot;) sollte hingegen nicht als Änderung gewertet werden, um das redundante Erscheinen eines neuen Objekts sowohl im Feed &quot;Neue Objekte&quot; als auch im Feed &quot;Geänderte Objekte&quot; zu vermeiden.</p>
<p>Auch hier SOLL der Feed sämtliche Objekttypen umfassen, die in einem System geführt werden.</p>
<pre class="sourceCode json" id="feed_ex2"><code class="sourceCode json">{
    <span class="dt">&quot;items&quot;</span>: [
        {
            <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/0/documents/2&quot;</span>,
            <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2014-01-08T14:28:31.568+0100&quot;</span>
        },
        {
            <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/0&quot;</span>,
            <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2014-01-08T12:14:27.958+0100&quot;</span>
        },
        {
            <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/papers/0/documents/1&quot;</span>,
            <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2014-01-06T17:01:00.402+0100&quot;</span>
        },
        <span class="er">...</span>
    ],
    <span class="dt">&quot;nextPage&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/feeds/updated/?t=20140106170100402&quot;</span>
}</code></pre>
<p>Das Ausgabeformat entspricht weitgehend dem des Feeds &quot;Neue Objekte&quot;, jedoch heißt hier die Eigenschaft für den Zeitpunkt der letzten Änderung <code>last_modified</code>. Auch hier gilt, dass der als <code>last_modified</code> ausgegebene Zeitpunkt auch als Sortierkriterium der Liste gelten SOLL.</p>
</section>
<section id="feed_entfernte_objekte" class="level3">
<h3><span class="header-section-number">4.8.3</span> Der Feed &quot;Entfernte Objekte&quot;</h3>
<p>Der Feed für entferne Objekte listet die URLs entfernter Objekte in der Reihenfolge des Datums ihrer Entfernung auf, wobei die zuletzt entfernten Objekte zuerst ausgegeben werden.</p>
<p>Mit &quot;Entfernung&quot; ist im Sinne dieses Feeds die Löschung eines Objekts, aber auch die Depublikation oder das Beenden der öffentlichen Verfügbarkeit gemeint.</p>
<p>Client-Implementierer sind angehalten, diesen Feed zu nutzen, um beispielsweise depublizierte Dokumente aus ihren lokalen Caches zu entfernen.</p>
<pre class="sourceCode json" id="feed_ex3"><code class="sourceCode json">{
    <span class="dt">&quot;items&quot;</span>: [
        {
            <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/bodies/0/people/22&quot;</span>,
            <span class="dt">&quot;removed&quot;</span>: <span class="st">&quot;2013-11-11T11:11:00.000+0100&quot;</span>
        },
        <span class="er">...</span>
    ],
    <span class="dt">&quot;nextPage&quot;</span>: <span class="st">&quot;http://refserv.oparl.org/feeds/updated/?t=20131111111100&quot;</span>
}</code></pre>
<p>Die Eigenschaft zur Angabe des Entfernugnszeitpunkts heißt hier <code>removed</code> und SOLL, analog zu den beiden anderen Feeds, als Sortierkriterium der Liste verwendet werden.</p>
</section>
</section>
<section id="dokumentenabruf" class="level2">
<h2><span class="header-section-number">4.9</span> Dokumentenabruf</h2>
<p>TODO:</p>
<ul>
<li>HTTP GET Methode MUSS unterstützt werden</li>
<li>HEAD-Methode MUSS unterstützt werden</li>
<li>HTTP Last-Modified Header sowie Conditional GET sind zu unterstützen</li>
</ul>
</section>
<section id="ausnahmebehandlung" class="level2">
<h2><span class="header-section-number">4.10</span> Ausnahmebehandlung</h2>
<p>TODO:</p>
<p>(Diskussion hierzu unter https://github.com/OParl/specs/issues/89)</p>
</section>
<section id="liste-reservierter-url-parameter" class="level2">
<h2><span class="header-section-number">4.11</span> Liste reservierter URL-Parameter</h2>
<p>Die in dieser Liste enthaltenen Zeichenketten haben eine reservierte Bedeutung und stehen bei Implementierungen eines OParl-Servers nicht mehr für die freie Verwendung in URLs zur Verfügung.</p>
<dl>
<dt>callback:</dt>
<dd>Mit diesem Parameter wird die JSONP-Ausgabe aktiviert. Mehr dazu im Abschnitt <a href="#jsonp">JSONP</a>.
</dd>
<dt>startdate:</dt>
<dd>Parameter für die Einschränkung einer Abfrage anhand eines Datums bzw. einer Zeitangabe.
</dd>
<dt>enddate:</dt>
<dd>Parameter für die Einschränkung einer Abfrage anhand eines Datums bzw. einer Zeitangabe.
</dd>
</dl>
<ul>
<li>(Parameter für Datums-/Zeitbereichsfilter)</li>
</ul>
</section>
</section>
<section id="schema" class="level1">
<h1><span class="header-section-number">5</span> Schema</h1>
<p>Dieses Kapitel beschreibt das Schema von OParl. Das Schema bildet das Datzenmodell der OParl-Architektur ab. Es definiert, welche Objekttypen über eine OParl-API abgerufen werden können und welche Eigenschaften diese Objekttypen haben dürfen und müssen. Darüber hinaus ist im Schema auch festgelegt, in welcher Beziehung verschiedene Objekttypen zu einander stehen.</p>
<section id="übergreifende-aspekte" class="level2">
<h2><span class="header-section-number">5.1</span> Übergreifende Aspekte</h2>
<section id="null-werte" class="level3">
<h3><span class="header-section-number">5.1.1</span> null-Werte</h3>
<p>JSON erlaubt es grundsätzlich, dass Eigenschaften den Wert <code>null</code> haben können. Im Rahmen dieser Spezifikation DARF das jedoch nur bei Eigenschaften der Fall sein, die als OPTIONAL oder EMPFOHLEN gekennzeichnet sind. ZWINGENDE Eigenschaften müssen einen Wert ungleich <code>null</code> besitzen.</p>
</section>
<section id="vererbung-der-lizenzbedingung" class="level3">
<h3><span class="header-section-number">5.1.2</span> Vererbung der Lizenzbedingung</h3>
<ul>
<li>Jedes Objekt KANN die Eigenschaft &quot;license&quot; besitzen.</li>
<li>Die genannte Lizenz bezieht sich auf das jeweilige Objekt und auf untergeordnete Objekte, sofern diese keine license-Eigenschaft besitzen.</li>
<li>Dazu muss die Vererbungshierarchie aufgezeigt werden.</li>
<li>Empfohlene Minimalvariante: Nur eine license-Angabe auf Ebene von <code>oparl:System</code>.</li>
<li>Auf Ebene des <code>oparl:Document</code> bezieht sich die Eigenschaft sowohl auf die Metadaten als auch auf das Dokument selbst.</li>
</ul>
</section>
<section id="die-eigenschaften-created-und-last_modified" class="level3">
<h3><span class="header-section-number">5.1.3</span> Die Eigenschaften &quot;created&quot; und &quot;last_modified&quot;</h3>
</section>
<section id="die-eigenschaften-name-und-name_long" class="level3">
<h3><span class="header-section-number">5.1.4</span> Die Eigenschaften &quot;name&quot; und &quot;name_long&quot;</h3>
</section>
<section id="die-eigenschaft-description" class="level3">
<h3><span class="header-section-number">5.1.5</span> Die Eigenschaft &quot;description&quot;</h3>
</section>
</section>
<section id="attribute-mit-verwendung-in-mehreren-objekttypen" class="level2">
<h2><span class="header-section-number">5.2</span> Attribute mit Verwendung in mehreren Objekttypen</h2>
<p>Für Datum und Zeit werden die in XML Schema festgelegten Typen verwendet (was nicht bedeutet, dass in OParl XML verwendet wird).</p>
<p>Für ein Datum wird http://www.w3.org/TR/xmlschema-2/#date verwendet und für eine Zeit http://www.w3.org/TR/xmlschema-2/#dateTime. Dabei wird ein Datum (ein Tag ohne Uhrzeit) ohne Zeitzone und ein Datum mit Zeit mit Zeitzone angegeben, denn nur damit ist die Uhrzeit weltweit eindeutig ohne zusätzlich auf den Ort einer Sitzung o.ä. Bezug nehmen zu müssen.</p>
<p>Diese Spezifikationen stützen sich auf RFC 3339 (http://www.ietf.org/rfc/rfc3339.txt) und RFC 3339 wiederum auf ISO 8601.</p>
<p>Im JSON-LD Kontext von OParl ist der Präfix 'xsd' so spezifiziert, dass Datums- und Zeittyp durch 'xsd:date' bzw. 'xsd:dateTime' abgekürzt werden können.</p>
<p>TODO: BEISPIELE</p>
</section>
<section id="oparl_system" class="level2">
<h2><span class="header-section-number">5.3</span> oparl:System (System)</h2>
<p>Der Objekttyp <code>oparl:System</code> bildet grundlegende Informationen zum parlamentarischen Informationssystem ab. Das Objekt repräsentiert das technische System, unabhängig von der Frage, welche Körperschaften auf diesem System vertreten sind.</p>
<p>Ein Beispiel:</p>
<pre class="sourceCode json" id="system_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;oparl:System&quot;</span>,
    <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://beispielris.de/&quot;</span>,
    <span class="dt">&quot;oparlVersion&quot;</span>: <span class="st">&quot;http://oparl.org/specs/1.0/&quot;</span>,
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Beispiel-System&quot;</span>,
    <span class="dt">&quot;wwwUrl&quot;</span>: <span class="st">&quot;http://www.beispielris.de/&quot;</span>,
    <span class="dt">&quot;contactEmail&quot;</span>: <span class="st">&quot;mailto:info@beispielris.de&quot;</span>,
    <span class="dt">&quot;contactName&quot;</span>: <span class="st">&quot;Allgemeiner OParl Kontakt&quot;</span>,
    <span class="dt">&quot;vendor&quot;</span>: <span class="st">&quot;http://example-software.com/&quot;</span>,
    <span class="dt">&quot;product&quot;</span>: <span class="st">&quot;http://example-software.com/oparl-server/&quot;</span>,
    <span class="dt">&quot;license&quot;</span>: <span class="st">&quot;http://creativecommons.org/licenses/by/4.0/&quot;</span>,
    <span class="dt">&quot;bodies&quot;</span>: <span class="st">&quot;http://beispielris.de/bodies/&quot;</span>,
    <span class="dt">&quot;newObjects&quot;</span>: <span class="st">&quot;http://beispielris.de/new_objects/&quot;</span>,
    <span class="dt">&quot;updatedObjects&quot;</span>: <span class="st">&quot;http://beispielris.de/updated_objects/&quot;</span>,
    <span class="dt">&quot;removedObjects&quot;</span>: <span class="st">&quot;http://beispielris.de/removed_objects&quot;</span>
}</code></pre>
<p>Auf jedem OParl Server MUSS ein Objekt vom Typ <code>oparl:System</code> vorgehalten werden. Es DARF nur ein einziges solches Objekt je Server existieren.</p>
<p>Für Clients ist das <code>oparl:System</code> Objekt ein geeigneter Einstiegspunkt, um grundlegende Informationen über das Sytem zu bekommen und die URLs zum Zugriff auf andere Informationen in Erfahrung zu bringen.</p>
<p>Die URL des <code>oparl:System</code> Objekts MUSS per Definition identisch mit der URL des API-Endpunkts des Servers sein.</p>
<section id="well-known-uris" class="level3">
<h3><span class="header-section-number">5.3.1</span> Well-Known URIs</h3>
<p>TODO: eventuell in eigenen Abschnitt oder eigenes Kapitel auslagern.</p>
<p>Es gibt eine standardisierte Technik, mit der ein Einstiegspunkt in die OParl-Daten angegeben werden kann: &quot;Well-Known URIs&quot;. Dieser kann dann maschinell gefunden werden. Diese Technik wurde durch die IETF und das W3C standardisiert.</p>
<p>Die Spezifikation von &quot;Well-Known URIs&quot; durch die IETF ist:</p>
<p>Defining Well-Known Uniform Resource Identifiers (URIs) http://tools.ietf.org/html/rfc5785</p>
<p>Eine Liste der Well-Known URIs wird von der IANA verwaltet:</p>
<p>Well-Known URIs http://www.iana.org/assignments/well-known-uris/well-known-uris.xhtml</p>
<p>Für OParl sind gegenwärtig nur &quot;Well-Known URIs&quot; für Beschreibungen von Datasets gemäß dem &quot;Vocabulary of Interlinked Datasets&quot; (VoID) relevant.</p>
<p>BEISPIEL:</p>
<p>Wenn ein RIS unter der Domain &quot;example.com&quot; betrieben wird, dann sieht der &quot;Well-Known URI&quot; so aus (der enthaltene &quot;.&quot; ist <em>kein</em> Schreibfehler):</p>
<p>https://example.com/.well-known/void</p>
<p>Forwarding ist erlaubt.</p>
<p>Siehe dazu auch:</p>
<p>Describing Linked Datasets with the VoID Vocabulary W3C Interest Group Note 03 March 2011 http://www.w3.org/TR/void/#well-known</p>
<p>Die über derartige URIs dereferenzierbaren Dokumente sind hier spezifiziert: http://www.w3.org/TR/void/#void-file</p>
<p>BEISPIEL:</p>
<p>Bei einem http GET Request auf https://example.com/.well-known/void mit Angabe des bevorzugten MIME-Type &quot;application/ld+json&quot; antwortet das System mit dem URI https://example.com/.well-known/void.jsonld unter welchem dieses JSON-LD Dokument abrufbar ist:</p>
<p>TODO: Beispiele für JSON-LD und exemplarisch auch für HTML.</p>
</section>
<section id="eigenschaften" class="level3">
<h3><span class="header-section-number">5.3.2</span> Eigenschaften</h3>
<dl>
<dt><code>oparlVersion</code></dt>
<dd><p>Die URL der OParl-Spezifikation, die von diesem Server unterstützt wird. Der Wert MUSS die URL <code>http://oparl.org/specs/1.0/</code> sein. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>bodies</code></dt>
<dd><p>Liste der URLs der <a href="#oparl_body"><code>oparl:Body</code></a>-Objekte, also der Körperschaften, die auf dem System vorliegen. Alternativ kann statt einer Liste eine einzelne URL zum Abruf der Liste angeboten werden. Die Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>name</code></dt>
<dd><p>Nutzerfreundlicher Name für das System, mit dessen Hilfe Nutzer das System erkennen und von anderen unterscheiden können. Diese Eigenschaft wird EMPFOHLEN.</p>
</dd>
<dt><code>contactEmail</code></dt>
<dd><p>E-Mail-Adresse für Anfragen zur OParl-API. Diese Eigenschaft wird EMPFOHLEN. Die Angabe einer E-Mail-Adresse dient sowohl NutzerInnen wie auch EntwicklerInnen von Clients zur Kontaktaufnahme mit dem Betreiber.</p>
</dd>
<dt><code>contactName</code></dt>
<dd><p>Name des Ansprechpartners oder der Abteilung, die über die <code>contact_email</code> erreicht werden kann. Die Eigenschaft ist EMPFOHLEN. Typ: Zeichenkette.</p>
</dd>
<dt><code>license</code></dt>
<dd><p>URL der Lizenz, die für die Daten, die über diese API abgerufen werden können, gilt, sofern nicht am einzelnen Objekt anders angegeben. Die Eigenschaft ist EMPFOHLEN.</p>
</dd>
<dt><code>newObjects</code></dt>
<dd><p>URL des Feeds <a href="#feed_neue_objekte">&quot;Neue Objekte&quot;</a>. Die Eigenschaft ist EMPFOHLEN.</p>
</dd>
<dt><code>updatedObjects</code></dt>
<dd><p>URL des Feeds <a href="#feed_geaenderte_objekte">&quot;Geänderte Objekte&quot;</a>. Die Eigenschaft ist EMPFOHLEN.</p>
</dd>
<dt><code>removedObjects</code></dt>
<dd><p>URL des Feeds <a href="#feed_entfernte_objekte">&quot;Entfernte Objekte&quot;</a>. Die Eigenschaft ist EMPFOHLEN.</p>
</dd>
<dt><code>wwwUrl</code></dt>
<dd><p>URL zur WWW-Oberfläche des parlamentarischen Informationssystem. Diese Eigenschaft ist OPTIONAL.</p>
</dd>
<dt><code>vendor</code></dt>
<dd><p>URL des Software-Anbieters, von dem die OParl-Server-Software stammt. Diese Eigenschaft ist OPTIONAL.</p>
</dd>
<dt><code>product</code></dt>
<dd><p>URL mit Informationen zu der auf dem System genutzten OParl-Server-Software. Diese Eigenschaft ist OPTIONAL.</p>
</dd>
</dl>
</section>
</section>
<section id="oparl_body" class="level2">
<h2><span class="header-section-number">5.4</span> oparl:Body (Körperschaft)</h2>
<p>Der Objekttyp <code>oparl:Body</code> dient dazu, eine Körperschaft und damit ein Parlament zu repräsentieren, zu dem der Server Informationen bereithält. Eine Körperschaft kann beispielsweise eine Gemeinde, ein Landkreis oder ein kommunaler Zweckverband sein.</p>
<p>Hätte das System beispielsweise den Zweck, Informationen über das kommunale Parlament der Stadt Köln, namentlich den Rat der Stadt Köln, abzubilden, dann müsste dieses System dazu ein Objekt vom Typ <code>oparl:Body</code> führen, welches die Stadt Köln repräsentiert.</p>
<p>Ein Beispiel:</p>
<pre class="sourceCode json" id="oparlbody_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;http://oparl.org/schema/1.0/Body&quot;</span>,
    <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/bodies/0&quot;</span>,
    <span class="dt">&quot;system&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/&quot;</span>,
    <span class="dt">&quot;contactEmail&quot;</span>: <span class="st">&quot;mailto:ris@beispielstadt.de&quot;</span>,
    <span class="dt">&quot;contactName&quot;</span>: <span class="st">&quot;RIS-Betreuung&quot;</span>,
    <span class="dt">&quot;rgs&quot;</span>: <span class="st">&quot;053150000000&quot;</span>,
    <span class="dt">&quot;sameAs&quot;</span>: [
        <span class="st">&quot;http://d-nb.info/gnd/2015732-0&quot;</span>,
        <span class="st">&quot;http://dbpedia.org/resource/Cologne&quot;</span>
    ],
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Stadt K\u00f6ln&quot;</span>,
    <span class="dt">&quot;nameLong&quot;</span>: <span class="st">&quot;Stadt K\u00f6ln, kreisfreie Stadt&quot;</span>,
    <span class="dt">&quot;wwwUrl&quot;</span>: <span class="st">&quot;http://www.beispielstadt.de/&quot;</span>,
    <span class="dt">&quot;organizations&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/bodies/0/organisations/&quot;</span>,
    <span class="dt">&quot;meetings&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/bodies/0/meetings/&quot;</span>,
    <span class="dt">&quot;papers&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/bodies/0/papers/&quot;</span>,
    <span class="dt">&quot;people&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/bodies/0/people/&quot;</span>,
    <span class="dt">&quot;created&quot;</span>: <span class="st">&quot;2014-01-08T14:28:31.568+0100&quot;</span>,
    <span class="dt">&quot;lastModified&quot;</span>: <span class="st">&quot;2014-01-08T14:28:31.568+0100&quot;</span>
}</code></pre>
<p>Vom OParl-Server wird erwartet, dass er mindestens ein Objekt vom Typ <code>oparl:Body</code> bereit hält. Teilen sich mehrere Körperschaften das selbe technische System, können auf demselben Server auch mehrere Objekte vom Typ <code>oparl:Body</code> beherbergt werden.</p>
<p>Über die Zuordnung zu einem bestimmten <code>oparl:Body</code> Objekt zeigen andere Objekte, wie beispielsweise Gremien oder Drucksachen, ihre Zugehörigkeit zu einer bestimmten Körperschaft und damit implizit zu einem bestimmten Parlament an.</p>
<section id="eigenschaften-1" class="level3">
<h3><span class="header-section-number">5.4.1</span> Eigenschaften</h3>
<dl>
<dt><code>system</code></dt>
<dd><p>URL des Objekts vom Typ <code>oparl:System</code> Objekts, zu dem dieses Objekt gehört. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>name</code></dt>
<dd><p>Gibt den gebräuchlichen Namen der Körperschaft an. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>nameLong</code></dt>
<dd><p>Kann bei Bedarf dazu verwendet werden, eine längere Form des Namens der Körperschaft anzugeben. Diese Eigenschaft ist OPTIONAL.</p>
</dd>
<dt><code>wwwUrl</code></dt>
<dd><p>Dient der Angabe der WWW-URL der Körperschaft. Diese Eigenschaft ist EMPFOHLEN.</p>
</dd>
<dt><code>rgs</code></dt>
<dd><p>Regionalschlüssel der Körperschaft als zwölfstellige Zeichenkette<a href="#fn17" class="footnoteRef" id="fnref17"><sup>17</sup></a>. Diese Eigenschaft ist EMPFOHLEN.</p>
</dd>
<dt><code>sameAs</code></dt>
<dd><p>Dient der Angabe beliebig vieler zusätzlicher URLs, die die Körperschaft repräsentieren. Diese Eigenschaft ist EMPFOHLEN. Hier können Beispielsweise, sofern vorhanden, der entpsrechende Eintrag der Gemeinsamen Normdatei der Deutschen Nationalbibliothek<a href="#fn18" class="footnoteRef" id="fnref18"><sup>18</sup></a>, der DBPedia<a href="#fn19" class="footnoteRef" id="fnref19"><sup>19</sup></a> oder der Wikipedia<a href="#fn20" class="footnoteRef" id="fnref20"><sup>20</sup></a> angegeben werden.</p>
</dd>
<dt><code>contactEmail</code></dt>
<dd><p>Dient der Angabe einer Kontakt-E-Mail-Adresse mit &quot;mailto:&quot;-Schema. Diese Eigenschaft ist EMPFOHLEN. Die Adresse soll die Kontaktaufnahme zu einer für die Körperschaft und idealerweise das parlamentarische Informationssystem zuständigen Stelle ermöglichen.</p>
</dd>
<dt><code>contactName</code></dt>
<dd><p>Name oder Bezeichnung der mit <code>contactEmail</code> erreichbaren Stelle. OPTIONAL.</p>
</dd>
<dt><code>papers</code></dt>
<dd><p>URL, unter welcher die API die Liste aller Objekte vom Typ <code>oparl:Paper</code>, also die Drucksachen unter dieser Körperschaft ausgibt. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>people</code></dt>
<dd><p>URL, unter welcher die API die Liste aller Objekte vom Typ <code>oparl:Person</code>, also die Personen unter dieser Körperschaft ausgibt. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>meetings</code></dt>
<dd><p>URL, unter welcher die API die Liste aller Objekte vom Typ <code>oparl:Meeting</code>, also die Sitzungen dieser Körperschaft ausgibt. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>organizations</code></dt>
<dd><p>URL, unter welcher die API die Liste aller Objekte vom Typ <code>oparl:Organization</code>, also die Gruppierungen dieser Körperschaft ausgibt. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>created</code></dt>
<dd><p>Datum/Uhrzeit der Erzeugung des Objekts. EMPFOHLEN.</p>
</dd>
<dt><code>lastModified</code></dt>
<dd><p>Datum/Uhrzeit der letzten Bearbeitung des Objekts. EMPFOHLEN.</p>
</dd>
</dl>
</section>
</section>
<section id="oparl_organization" class="level2">
<h2><span class="header-section-number">5.5</span> oparl:Organization (Gruppierung)</h2>
<p>Dieser Objekttyp dient dazu, Gruppierungen von Personen abzubilden, die in der parlamentarischen Arbeit eine Rolle spielen. Dazu zählen in der Praxis insbesondee Fraktionen und Gremien.</p>
<p>Ein Beispiel:</p>
<pre class="sourceCode json" id="organization_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;http://oparl.org/schema/1.0/Organization&quot;</span>,
    <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/organizations/34&quot;</span>,
    <span class="dt">&quot;body&quot;</span>: <span class="st">&quot;http://oparl.beispielris.de/bodies/0&quot;</span>,
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Finanzausschuss&quot;</span>,
    <span class="dt">&quot;nameLong&quot;</span>: <span class="st">&quot;Finanzausschuss des Rates der Stadt Köln&quot;</span>,
    <span class="dt">&quot;members&quot;</span>: [
        <span class="st">&quot;http://oparl.beispielris.de/people/27&quot;</span>,
        <span class="st">&quot;http://oparl.beispielris.de/people/48&quot;</span>,
        <span class="st">&quot;http://oparl.beispielris.de/people/57&quot;</span>,
    ],
    <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2012-08-16T14:05:27+02:00&quot;</span>
}</code></pre>
<section id="eigenschaften-2" class="level3">
<h3><span class="header-section-number">5.5.1</span> Eigenschaften</h3>
<dl>
<dt><code>body</code></dt>
<dd><p>URL der Körperschaft, zu der diese Gruppierung gehört. Die Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>name</code></dt>
<dd><p>Der Name der Gruppierung. Die Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>nameLong</code></dt>
<dd><p>Langform des Namens der Gruppierung. OPTIONAL.</p>
</dd>
<dt><code>members</code></dt>
<dd><p>Entweder die vollständige Liste der URLs aller Mitglieder dieser Organisation (Objekte vom Typ <code>[oparl:Person](#oparl_person)</code>) oder URL zum Abruf dieser Liste.</p>
</dd>
<dt><code>subOrganizationOf</code></dt>
<dd><p>Ggf. URL der übergeordneten Organisation. Diese Eigenschaft ist OPTIONAL.</p>
</dd>
<dt><code>created</code></dt>
<dd><p>Datum/Uhrzeit der Erzeugung des Objekts. EMPFOHLEN.</p>
</dd>
<dt><code>lastModified</code></dt>
<dd><p>Datum/Uhrzeit der letzten Bearbeitung des Objekts. EMPFOHLEN.</p>
</dd>
</dl>
</section>
</section>
<section id="oparl_person" class="level2">
<h2><span class="header-section-number">5.6</span> oparl:Person (Person)</h2>
<p>Jede natürliche Person, die Mitglied eines Gremiums ist, ist als <code>oparl:Person</code> im Datenmodell eindeutig identifizierbar.</p>
<section id="eigenschaften-3" class="level3">
<h3><span class="header-section-number">5.6.1</span> Eigenschaften</h3>
<dl>
<dt>Schlüssel (<code>id</code>)</dt>
<dd>Zur eindeutigen Identifizierung sollte jede Person eine Kennung besitzen, die keinen Änderungen unterworfen ist und aus diesem Grund nicht mit dem Namen in Verbindung stehen sollte. Viele RIS nutzen rein numerische Kennungen.
</dd>
<dt>Vorname (<code>first_name</code>)</dt>
<dd>Der Vorname der Person.
</dd>
<dt>Nachname (<code>last_name</code>)</dt>
<dd>Der Nachname der Person.
</dd>
<dt>Titel (<code>academic_degree</code>)</dt>
<dd><em>Optional</em>. Akademische Titel wie &quot;Dr.&quot; und &quot;Prof. Dr.&quot;. Aber auch akademische Grade wie &quot;Dipl. Inform.&quot; (die rechtlich nicht Teil des Namens sind) sind hier zugelassen.
</dd>
<dt>Geschlecht (<code>gender</code>)</dt>
<dd><em>Optional</em>. Weiblich (Wert <code>Female</code>), männlich (Wert <code>Male</code>), anderes (Wert <code>Other</code>), unbekannt (Wert <code>Unknown</code>)
</dd>
<dt>Beruf (<code>profession</code>)</dt>
<dd><em>Optional</em>. Z.B. &quot;Rechtsanwalt&quot;
</dd>
<dt>E-Mail-Adresse (<code>email</code>)</dt>
<dd><em>Optional</em>.
</dd>
<dt>Telefon (<code>phone</code>)</dt>
<dd><em>Optional</em>.
</dd>
<dt>Fax (<code>fax</code>)</dt>
<dd><em>Optional</em>.
</dd>
<dt>Anschrift (<code>address</code>)</dt>
<dd><em>Optional</em>. Straße und Hausnummer, Postleitzahl und Ort
</dd>
<dt>Zuletzt geändert (<code>last_modified</code>)</dt>
<dd>Datum und Uhrzeit der letzten Änderung
</dd>
</dl>
<section id="anmerkungen" class="level4">
<h4><span class="header-section-number">5.6.1.1</span> Anmerkungen</h4>
<ul>
<li>Das System von Euskirchen scheint Vor- und Nachname (evtl. einschl. Titel) in einem gemeinsamen Feld &quot;Name&quot; zu führen. Ob das System hier technisch differenziert, ist unklar. Falls einzelne Systeme den angezeigten Namen nur als ganzes speichern, sollte dies für den Standard übernommen werden, da es für die meisten Anwendungen ausreichen sollte.</li>
<li>Das System PROVOX unterscheidet zwischen privaten und geschäftlichen Anschriften.</li>
</ul>
</section>
</section>
<section id="beziehungen" class="level3">
<h3><span class="header-section-number">5.6.2</span> Beziehungen</h3>
<ul>
<li>Objekte vom Typ <code>oparl:Person</code> können einer Organisation, z.B. einer Fraktion, zugeornet werden. Diese Beziehung ist datiert.</li>
<li>Objekte vom Typ <code>oparl:Person</code> können einem oder mehreren Gremien zugewiesen werden, um die Mitgliedschaft in diesem Gremium darzustellen. Diese Beziehungen sind ebenfalls datiert.</li>
</ul>
</section>
<section id="beispiel" class="level3">
<h3><span class="header-section-number">5.6.3</span> Beispiel</h3>
<pre class="sourceCode json" id="person_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;1000&quot;</span>,
    <span class="dt">&quot;first_name&quot;</span>: <span class="st">&quot;Max&quot;</span>,
    <span class="dt">&quot;last_name&quot;</span>: <span class="st">&quot;Mustermann&quot;</span>,
    <span class="dt">&quot;academic_degree&quot;</span>: <span class="st">&quot;Dr. oec. troph&quot;</span>,
    <span class="dt">&quot;sex&quot;</span>: <span class="st">&quot;M&quot;</span>,
    <span class="dt">&quot;profession&quot;</span>: <span class="st">&quot;Rechtsanwalt&quot;</span>,
    <span class="dt">&quot;email&quot;</span>: <span class="st">&quot;max@mustermann.de&quot;</span>,
    <span class="dt">&quot;phone&quot;</span>: <span class="st">&quot;+4977777&quot;</span>,
    <span class="dt">&quot;fax&quot;</span>: <span class="st">&quot;+4988888&quot;</span>,
    <span class="dt">&quot;address&quot;</span>: <span class="st">&quot;Musterstraße 5, 11111 Musterort&quot;</span>,
    <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2012-08-16T14:05:27+02:00&quot;</span>,
    <span class="dt">&quot;organisations&quot;</span>: [
        {
            <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;2000&quot;</span>,
            <span class="dt">&quot;start&quot;</span>: <span class="st">&quot;2011-03-01&quot;</span>,
            <span class="dt">&quot;end&quot;</span>: <span class="st">&quot;2013-02-28&quot;</span>
        },
        {
            <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;2001&quot;</span>,
            <span class="dt">&quot;start&quot;</span>: <span class="st">&quot;2013-03-01&quot;</span>
        }
    ],
    <span class="dt">&quot;committees&quot;</span>: [
        {
            <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;7&quot;</span>,
            <span class="dt">&quot;start&quot;</span>: <span class="st">&quot;2013-01-01&quot;</span>
        }
    ]
}</code></pre>
</section>
</section>
<section id="oparl_meeting" class="level2">
<h2><span class="header-section-number">5.7</span> oparl:Meeting (Sitzung)</h2>
<p>Eine Sitzung ist die Versammlung der Mitglieder eines Gremiums oder mehrerer Gremien zu einem bestimmten Zeitpunkt an einem bestimmten Ort.</p>
<p>Die geladenen Teilnehmer der Sitzung sind jeweils als „Person“ in entsprechender Form referenziert. Verschiedene Dokumente (Einladung, Ergebnis- und Wortprotokoll, sonstige Anlagen) können referenziert werden.</p>
<section id="eigenschaften-4" class="level3">
<h3><span class="header-section-number">5.7.1</span> Eigenschaften</h3>
<dl>
<dt>Schlüssel (<code>id</code>)</dt>
<dd>Zur eindeutigen Identifizierung der Sitzung innerhalb des Systems. In der Praxis wird ein solcher Schlüssel entweder durch eine numerische ID gebildet oder durch Kombination mehrerer Merkmale wie dem Kürzel des Gremiums, der laufenden Nummer der Sitzung in einem Jahr und der Jahreszahl (z.B. &quot;BV1/0034/2012&quot;).
</dd>
<dt>Nummer (<code>sequence_number</code>)</dt>
<dd><em>Optional</em>. Laufende Nummer der Sitzung, üblicherweise innerhalb der Wahlperiode mit 1 beginnend. In der Praxis wird dadurch z.B. die &quot;2. Sitzung des Rats&quot; gekennzeichnet. Ist dieses Feld gesetzt, MUSS ein numerischer Wert enthalten sein.
</dd>
<dt>Anfang (<code>start</code>)</dt>
<dd>Datum und ggf. Uhrzeit des Anfangszeitpunkts der Sitzung
</dd>
<dt>Ende (<code>end</code>)</dt>
<dd><em>Optional</em>. Datum und Uhrzeit vom Ende der Sitzung
</dd>
<dt>Ort (<code>address</code>)</dt>
<dd><em>Optional</em>. Textliche Information zum Ort der Sitzung, z.B. &quot;Rathaus, Raum 136&quot;.
</dd>
<dt>Zuletzt geändert (<code>last_modified</code>)</dt>
<dd>Datum und Uhrzeit der letzten Änderung
</dd>
</dl>
</section>
<section id="beziehungen-1" class="level3">
<h3><span class="header-section-number">5.7.2</span> Beziehungen</h3>
<ul>
<li>Sitzungen sind mindestens einem Gremium zugeordnet</li>
<li>Einer Sitzung sind Personen zugeordnet, um die Teilnahme an der Sitzung auszudrücken.</li>
<li>Dokumente können vom Typ <code>oparl:Meeting</code> <em>optional</em> zu mehreren Zwecken referenziert werden:
<ul>
<li>Zum Verweis auf die Einladung zur Sitzung</li>
<li>Zum Verweis auf das Ergebnisprotokoll zur Sitzung</li>
<li>Zum Verweis auf das Wortprotokoll zur Sitzung</li>
</ul></li>
<li>Weiterhin können Sitzungen beliebige weitere Dokumente, die keine eigenständigen Drucksachen sind, referenzieren. Dabei handelt es sich dann um nicht weiter spezifizierte Anlagen.</li>
</ul>
</section>
<section id="beispiel-1" class="level3">
<h3><span class="header-section-number">5.7.3</span> Beispiel</h3>
<pre class="sourceCode json" id="meeting_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;3271&quot;</span>,
    <span class="dt">&quot;identifier&quot;</span>: <span class="st">&quot;STA/0034/2012&quot;</span>,
    <span class="dt">&quot;start&quot;</span>: <span class="st">&quot;2013-01-04T08:00:00+01:00&quot;</span>,
    <span class="dt">&quot;end&quot;</span>: <span class="st">&quot;2013-01-04T12:00:00+01:00&quot;</span>,
    <span class="dt">&quot;address&quot;</span>: <span class="st">&quot;Rathaus, Raum 136&quot;</span>,
    <span class="dt">&quot;sequence_number&quot;</span>: <span class="dv">1</span>,
    <span class="dt">&quot;committees&quot;</span>: [<span class="st">&quot;STA&quot;</span>],
    <span class="dt">&quot;people&quot;</span>: [<span class="st">&quot;1000&quot;</span>, <span class="st">&quot;1001&quot;</span>],
    <span class="dt">&quot;invitation&quot;</span>: <span class="st">&quot;0001/2013&quot;</span>,
    <span class="dt">&quot;result_minutes&quot;</span>: <span class="st">&quot;0002/2013&quot;</span>,
    <span class="dt">&quot;verbatim_minutes&quot;</span>: <span class="st">&quot;0003/2013&quot;</span>,
    <span class="dt">&quot;attachments&quot;</span>: [
        <span class="st">&quot;0004/2013&quot;</span>,
        <span class="st">&quot;0005/2013&quot;</span>
    ],
    <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2012-01-08T14:05:27+01:00&quot;</span>
}</code></pre>
</section>
</section>
<section id="oparl_agendaitem" class="level2">
<h2><span class="header-section-number">5.8</span> oparl:AgendaItem (Tagesordnungspunkt)</h2>
<p>Der Tagesordnungspunkt wird für eine bestimmte Sitzung angelegt, erhält eine (innerhalb dieser Sitzung eindeutige) Nummer und einen Titel (Betreff). Nach der Sitzung wird dem Tagesordnungspunkt außerdem ein Ergebnis angehängt. Unter Umständen kann dem Tagesordnungspunkt ein bestimmter Beschlusstext beigefügt sein.</p>
<p>Überlicherweise haben Sitzungen mehrere Tagesordnungspunkte.</p>
<section id="eigenschaften-5" class="level3">
<h3><span class="header-section-number">5.8.1</span> Eigenschaften</h3>
<dl>
<dt>Nummer (<code>identifier</code>)</dt>
<dd>Beispiel: &quot;1.2.3&quot;. Diese Nummer gibt an, in welcher Reihenfolge die Tagesordnungspunkte einer Sitzung normalerweise behandelt werden. Im Kontext einer Sitzung ist diese Nummer eindeutig.
</dd>
<dt>Öffentlich (<code>public</code>)</dt>
<dd>Kennzeichnet, ob der Tagesordnungspunkt in öffentlicher Sitzung behandelt wird. Kann die Werte <code>true</code> (öffentlich) oder <code>false</code> annehmen.
</dd>
<dt>Titel (<code>title</code>)</dt>
<dd>Das Thema des Tagesordnungspunktes
</dd>
<dt>Ergebnis (<code>result</code>)</dt>
<dd><em>Optional</em>. Kategorische Information darüber, welches Ergebnis die Beratung des Tagesordnungspunktes gebracht hat. In der Praxis sind hier Kategorien wie &quot;Unverändert beschlossen&quot;, &quot;Geändert beschlossen&quot;, &quot;Endgültig abgelehnt&quot;, &quot;Zur Kenntnis genommen&quot;, &quot;Ohne Votum in nachfolgende Gremien überwiesen&quot; und weitere zu erwarten.
</dd>
<dt>Ergebnis Details (<code>result_details</code>)</dt>
<dd><em>Optional</em>. Ermöglicht die Angabe zusätzlicher Textinformationen zum Ergebnis, zum Beispiel im Fall der Verweisung an ein anderes Gremium die Angabe, an welches Gremium verwiesen wurde.
</dd>
<dt>Beschlusstext (<code>resolution_text</code>)</dt>
<dd><em>Optional</em>. Falls in diesem Tagesordnungspunkt ein Beschluss gefasst wurde, kann der Text hier hinterlegt werden. Das ist besonders dann in der Praxis relevant, wenn der gefasste Beschluss (z.B. durch Änderungsantrag) von der Beschlussvorlage abweicht.
</dd>
<dt>Zuletzt geändert (<code>last_modified</code>)</dt>
<dd>Datum und Uhrzeit der letzten Änderung
</dd>
</dl>
<section id="anmerkungen-1" class="level4">
<h4><span class="header-section-number">5.8.1.1</span> Anmerkungen</h4>
<ul>
<li>Einige Systeme vergeben zu Tagesordnungspunkten intern unveränderliche, numerische IDs. Es ist unklar, ob es zusätzlichen Nutzen bringt, derartige IDs, neben den Nummern, in den Standard zu übernehmen. Dies würde vermutlich nur Sinn ergeben, wenn es als Pflichtfeld gelten könnte.</li>
<li>Teil der Beratungen über einheitliche Nomenklatur im Standard sollte sein, eine Vereinheitlichung der Werte für die Eigenschaft <code>result</code> zu diskutieren.</li>
</ul>
</section>
</section>
<section id="beziehungen-2" class="level3">
<h3><span class="header-section-number">5.8.2</span> Beziehungen</h3>
<ul>
<li>Jeder Tagesordnungspunkt gehört zu genau einem <code>oparl:Meeting</code>.</li>
<li>Der Tagesordnungspunkt kann auf eine Drucksache verweisen, die im Rahmen dieses Tagesordnungspunkt beraten werden soll.</li>
<li>Es können <code>oparl:Person</code> Objekte referenziert werden, die während der Abstimmung zu diesem Tagesordnungspunkt <em>nicht</em> anwesend waren.</li>
</ul>
</section>
<section id="beispiel-2" class="level3">
<h3><span class="header-section-number">5.8.3</span> Beispiel</h3>
<pre class="sourceCode json" id="agendaitem_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;meeting&quot;</span>: <span class="st">&quot;3271&quot;</span>,
    <span class="dt">&quot;identifier&quot;</span>: <span class="st">&quot;3.1.2&quot;</span>,
    <span class="dt">&quot;public&quot;</span>: <span class="dv">true</span>,
    <span class="dt">&quot;title&quot;</span>: <span class="st">&quot;Gemeinschaftsgrundschule Hornschaftsstraße/Höhenhaus. Hier: Anfrage von Herrn Philippi&quot;</span>,
    <span class="dt">&quot;result&quot;</span>: <span class="st">&quot;Geändert beschlossen&quot;</span>,
    <span class="dt">&quot;resolution_text&quot;</span>: <span class="st">&quot;Der Beschluss weicht wie folgt vom Antrag ab: ...&quot;</span>,
    <span class="dt">&quot;people_absent&quot;</span>: [<span class="st">&quot;1002&quot;</span>, <span class="st">&quot;1003&quot;</span>],
    <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2012-08-16T14:05:27+02:00&quot;</span>
}</code></pre>
</section>
</section>
<section id="oparl_paper" class="level2">
<h2><span class="header-section-number">5.9</span> oparl:Paper (Drucksache)</h2>
<p>Eine Drucksache bildet Mitteilungen, Antworten auf Anfragen, Beschlussvorlagen, Anfragen, Anträge und weitere Vorlagen ab. Jede Drucksache erhält eine eindeutige Kennung.</p>
<p>Die Drucksache hat im Informationsmodell eine hervorgehobene Bedeutung. Im Fall eines Antrags kann mit einer einzigen Drucksache ein über Monate oder Jahre dauernder politischer Entscheidungsprozess verbunden sein. In dem Zusammenhang entstehen üblicherweise weitere Drucksachen.</p>
<p>Drucksachen spielen in der schriftlichen wie mündlichen Kommunikation eine besondere Rolle, da in vielen Texten auf bestimmte Drucksachen Bezug genommen wird. Hierbei kommen in Ratsinformationssystemen unveränderliche Kennungen der Drucksachen zum Einsatz.</p>
<p>Jede Drucksache ist über die Eigenschaft &quot;Typ&quot; als eine der folgenden Arten von Drucksachen gekennzeichnet:</p>
<ul>
<li><strong>Beschlussvorlage</strong>: Entscheidungsvorschlag der Verwaltung</li>
<li><strong>Antrag</strong>: Entscheidungsvorschlag einer Fraktionen bzw. mehrerer Fraktionen oder einer/mehrerer Einzelperson/en</li>
<li><strong>Anfrage</strong>: Frage(n) einer oder mehrerer Fraktion oder Einzelpersonen an die Verwaltung</li>
<li><strong>Mitteilung/Stellungnahme der Verwaltung</strong>: Eine Information der Verwaltung an einzelne oder mehrere Gremien. Darunter fallen nicht Beantwortungen von Anfragen.</li>
<li><strong>Beantwortung einer Anfrage</strong>: Antwort der Verwaltung auf (mündliche oder schriftliche) Anfragen</li>
</ul>
<section id="eigenschaften-6" class="level3">
<h3><span class="header-section-number">5.9.1</span> Eigenschaften</h3>
<dl>
<dt>Schlüssel (<code>id</code>)</dt>
<dd>Die Kennung einer Drucksache muss für die jeweilige Körperschaft eindeutig sein. Sie kann sowohl Ziffern als auch Buchstaben enthalten. Einige Systeme (z.B. Köln) verwenden besondere Trennzeichen wie &quot;/&quot;, um eine Jahreszahl von einer laufenden Nummer abzutrennen. Weiterhin werden mancherorts führende Nullen verwendet.
</dd>
<dt>Datum (<code>date</code>)</dt>
<dd>Datum der Veröffentlichung
</dd>
<dt>Typ (<code>type</code>)</dt>
<dd>Art der Drucksache (Erläuterung siehe oben)
</dd>
<dt>Zuletzt geändert (<code>last_modified</code>)</dt>
<dd>Datum und Uhrzeit der letzten Änderung
</dd>
</dl>
</section>
<section id="beziehungen-3" class="level3">
<h3><span class="header-section-number">5.9.2</span> Beziehungen</h3>
<ul>
<li>Es muss genau ein <strong>Hauptdokument</strong> (<code>oparl:Document</code>) referenziert werden.</li>
<li>Es können beliebig viele weitere Dokumente referenziert werden, die als nachgeordnete <strong>Anlagen</strong> zur Drucksache verstanden werden.</li>
<li>Die Drucksache ist beliebig vielen Gremien zuzuordnen, in denen diese beraten wird.</li>
<li>Drucksachen können <strong>Urhebern</strong> zugewiesen werden. Im Fall von Mitteilungen der Verwaltung ist dies oft der Oberbürgermeister. Bei Anträgen oder Anfragen können Organisationen oder Einzelpersonen referenziert werden. Es können stets mehrere Uhrheber verknüpft werden.</li>
<li>Es können beliebig viele <strong>Orte</strong> (siehe Objekttyp &quot;Ort&quot;) referenziert werden, die im Inhalt der Drucksache behandelt werden. Beispiel: Beschlussvorlage zur Freigabe von Mitteln für die Sanierung eines Sportplatzes, wobei der Ort die Lage des Sportplatzes genau beschreibt. (TODO)</li>
<li>Drucksachen können auf andere Drucksachen referenzieren. Diese Verweise können verschiedene semantische Beziehungen ausdrücken. So kann eine Drucksache auf eine übergeordnete oder eine oder mehrere untergeordnete Drucksachen verweisen. Beim Drucksachen-Typ &quot;Beantwortung einer Anfrage&quot; ist die Drucksache zu referenzieren, die die ursprüngliche <strong>Anfrage</strong> beinhaltet. Denkbar sind auch Verweise auf frühere Drucksachen zum selben Thema. Zu klären ist, wie die verschiedenen möglichen Beziehungen formell ausgedrückt werden.</li>
<li>Drucksachen können zu beliebig vielen Tagesordnungspunkten in Beziehung stehen, um die <strong>Beratungsfolge</strong> einer Drucksache abzubilden. Hierbei kann die Beziehung jeweils mit einer Zuständigkeit versehen sein, die noch näher zu bestimmen ist (TODO).</li>
</ul>
</section>
<section id="beispiel-3" class="level3">
<h3><span class="header-section-number">5.9.3</span> Beispiel</h3>
<pre class="sourceCode json" id="paper_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;1234/2012&quot;</span>,
    <span class="dt">&quot;date&quot;</span>: <span class="st">&quot;2013-01-04&quot;</span>,
    <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;Beantwortung einer Anfrage&quot;</span>,
    <span class="dt">&quot;related_papers&quot;</span>: [
        <span class="st">&quot;0768/2012&quot;</span>
    ],
    <span class="dt">&quot;main_document&quot;</span>: <span class="st">&quot;3000.pdf&quot;</span>,
    <span class="dt">&quot;attachments&quot;</span>: [
        <span class="st">&quot;3002.pdf&quot;</span>,
        <span class="st">&quot;3003.pdf&quot;</span>
    ],
    <span class="dt">&quot;locations&quot;</span>: [
        {
            <span class="dt">&quot;description&quot;</span>: <span class="st">&quot;Theodor-Heuss-Ring 1&quot;</span>,
            <span class="dt">&quot;lat&quot;</span>: <span class="fl">7.148</span>,
            <span class="dt">&quot;lon&quot;</span>: <span class="fl">50.023</span>
        }
    ],
    <span class="dt">&quot;committees&quot;</span>: [<span class="st">&quot;STA&quot;</span>],
    <span class="dt">&quot;creators&quot;</span>: [
        {
            <span class="dt">&quot;typ&quot;</span>: <span class="st">&quot;Organisation&quot;</span>,
            <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;2000&quot;</span>
        },
        {
            <span class="dt">&quot;typ&quot;</span>: <span class="st">&quot;Person&quot;</span>,
            <span class="dt">&quot;id&quot;</span>: <span class="st">&quot;1000&quot;</span>
        }
    ],
    <span class="dt">&quot;consultations&quot;</span>: [
        {
            <span class="dt">&quot;meeting&quot;</span>: <span class="st">&quot;3271&quot;</span>,
            <span class="dt">&quot;agendaitem&quot;</span>: <span class="st">&quot;3.1.2&quot;</span>,
            <span class="dt">&quot;role&quot;</span>: <span class="st">&quot;Federführende Beratung&quot;</span>
        }
    ],
    <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2013-01-08T12:05:27+01:00&quot;</span>
}</code></pre>
</section>
</section>
<section id="oparl_document" class="level2">
<h2><span class="header-section-number">5.10</span> oparl:Document (Datei)</h2>
<p>Ein Objekt vom Typ <code>oparl:Document</code> repräsentiert eine Datei, beispielsweise eine PDF-Datei, ein RTF- oder ODF-Dokuments, und hält Metadaten zu der Datei sowie URLs zum Zugriff auf die Datei bereit.</p>
<p>Ein Beispiel:</p>
<pre class="sourceCode json" id="document_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;oparl:Document&quot;</span>,
    <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://beispielris.de/documents/57739&quot;</span>,
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;Anlage 1 zur Anfrage&quot;</span>,
    <span class="dt">&quot;paper&quot;</span>: <span class="st">&quot;http://beispielris.de/papers/2396&quot;</span>,
    <span class="dt">&quot;mime_type&quot;</span>: <span class="st">&quot;application/pdf&quot;</span>,
    <span class="dt">&quot;date&quot;</span>: <span class="st">&quot;2013-01-04T07:54:13+01:00&quot;</span>,
    <span class="dt">&quot;last_modified&quot;</span>: <span class="st">&quot;2013-01-04T07:54:13+01:00&quot;</span>,
    <span class="dt">&quot;sha1_checksum&quot;</span>: <span class="st">&quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&quot;</span>,
    <span class="dt">&quot;size&quot;</span>: <span class="dv">82930</span>,
    <span class="dt">&quot;access_url&quot;</span>: <span class="st">&quot;http://beispielris.de/documents/57739.pdf&quot;</span>,
    <span class="dt">&quot;access_url&quot;</span>: <span class="st">&quot;http://beispielris.de/documents/download/57739.pdf&quot;</span>,
    <span class="dt">&quot;text&quot;</span>: <span class="st">&quot;Der Übersichtsplan zeigt alle Ebenen des ...&quot;</span>,
    <span class="dt">&quot;master_document&quot;</span>: <span class="st">&quot;http://beispielris.de/documents/57738&quot;</span>
}</code></pre>
<p>Objekt vom Typ <code>oparl:Document</code> können mit Drucksachen (<code>oparl:Paper</code>) oder Sitzungen (<code>oparl:Meeting</code>) in Beziehung stehen. Dies wird durch die Eigenschaft <code>paper</code> bzw. <code>meeting</code> angezeigt.</p>
<p>Mehrere Objekte vom Typ <code>oparl:Document</code> können mit einander in direkter Beziehung stehen, wenn sie den selben Inhalt in unterschiedlichen technischen Formaten wiedergeben. Hierfür werden die Eigenschaften <code>master_document</code> bzw. <code>derivative_documents</code> eingesetzt. Das oben angezeigte Beispiel-Objekt repräsentiert eine PDF-Datei (zu erkennen an der Eigenschaft <code>mime_type</code>) und zeigt außerdem über die Eigenschaft <code>master_document</code> an, von welcher anderen Datei es abgeleitet wurde. Umgekehrt KANN über die Eigenschaft <code>derivative_documents</code> angezeigt werden, welche Ableitungen einer Datei existieren.</p>
<section id="eigenschaften-7" class="level3">
<h3><span class="header-section-number">5.10.1</span> Eigenschaften</h3>
<dl>
<dt><code>@id</code></dt>
<dd><p>Die URL des Objekts.</p>
</dd>
<dt><code>name</code></dt>
<dd><p>Name des Objekts, der Nutzern angezeigt werden kann. Diese Eigenschaft ist ZWINGEND. Typ: Zeichenkette.</p>
</dd>
<dt><code>mime_type</code></dt>
<dd><p>Mime-Typ des Inhalts (vgl. RFC2046<a href="#fn21" class="footnoteRef" id="fnref21"><sup>21</sup></a>). Diese Eigenschaft ist ZWINGEND. Sollte das System einer Datei keinen spezifischen Typ zuweisen können, wird EMPFOHLEN, hier &quot;application/octet-stream&quot; zu verwenden.</p>
</dd>
<dt><code>date</code></dt>
<dd><p>Erstellungs- oder Veröffentlichungsdatum und -uhrzeit. Diese Eigenschaft ist ZWINGEND. Typ: Datum.</p>
</dd>
<dt><code>last_modified</code></dt>
<dd><p>Datum und Uhrzeit der letzten Änderung der Datei bzw. der Metadaten. Diese Eigenschaft ist ZWINGEND. Typ: Datum.</p>
</dd>
<dt><code>size</code></dt>
<dd><p>Größe der Datei in Bytes. Diese Eigenschaft ist ZWINGEND. Typ: Zahl.</p>
</dd>
<dt><code>sha1_checksum</code></dt>
<dd><p>SHA1-Prüfsumme des Dokumenteninhalts in Hexadezimal-Schreibweise. Typ: Zeichenkette.</p>
</dd>
<dt><code>text</code></dt>
<dd><p>Reine Text-Wiedergabe des Dateiinhalts, sofern dieser in Textform wiedergegeben werden kann. Diese Eigenschaft ist EMPFOHLEN. Typ: Zeichenkette.</p>
</dd>
<dt><code>access_url</code></dt>
<dd><p>URL zum gewöhnlichen Abruf der Datei mittels HTTP GET-Aufruf. Diese Eigenschaft ist ZWINGEND. Typ: URL.</p>
</dd>
<dt><code>download_url</code></dt>
<dd><p>URL zum Download der Datei. Diese Eigenschaft ist EMPFOHLEN. Typ: URL.</p>
</dd>
<dt><code>paper</code></dt>
<dd><p>URL des zugehörigen Objekts vom Typ <code>oparl:Paper</code>, sofern diese Datei zu einer Drucksache gehört. Wenn diese Datei zu einer Drucksache gehört, MUSS diese Eigenschaft vorhanden sein, andernfalls DARF sie NICHT vorhanden sein. Typ: URL.</p>
</dd>
<dt><code>meeting</code></dt>
<dd><p>URL des zugehörigen Objekts vom Typ <code>oparl:Meeting</code>, sofern diese Datei zu einer Sitzung gehört. Wenn diese Datei zu einer Sitzung gehört, MUSS diese Eigenschaft vorhanden sein, andernfalls DARF sie NICHT vorhanden sein. Typ: URL.</p>
</dd>
<dt><code>master_document</code></dt>
<dd><p>URL des Objekts vom Typ <code>oparl:Document</code>, von dem das aktuelle Objekt abgeleitet wurde. Diese Eigenschaft ist OPTIONAL. Typ: URL.</p>
</dd>
<dt><code>derivative_documents</code></dt>
<dd><p>URLs aller Objekte vom Typ <code>oparl:Document</code>, die von dem aktuellen Objekt abgeleitet wurden. Diese Eigenschaft ist OPTIONAL. Typ: Liste von URLs.</p>
</dd>
</dl>
</section>
<section id="siehe-auch" class="level3">
<h3><span class="header-section-number">5.10.2</span> Siehe auch</h3>
<ul>
<li><a href="#dokumentenabruf">Dokumentenabruf</a></li>
</ul>
</section>
</section>
<section id="oparl_consultation" class="level2">
<h2><span class="header-section-number">5.11</span> oparl:Consultation (Beratung)</h2>
<p>Der Objekttyp <code>oparl:Consultation</code> dient dazu, die Beratung einer Drucksache (<a href="#oparl_paper"><code>oparl:Paper</code></a>) in einer Sitzung abzubilden. Dabei ist es nicht entscheidend, ob diese Beratung in der Vergangenheit stattgefunden hat oder diese für die Zukunft geplant ist.</p>
<p>Die Gesamtheit aller Objekte des Typs <code>oparl:Consultation</code> zu einer bestimmten Drucksache bildet das ab, was in der Praxis als &quot;Beratungsfolge&quot; der Drucksache bezeichnet wird.</p>
<p>Ein Beispiel:</p>
<pre class="sourceCode json" id="consultation_ex1"><code class="sourceCode json">{
    <span class="dt">&quot;@type&quot;</span>: <span class="st">&quot;oparl:Consultation&quot;</span>,
    <span class="dt">&quot;@id&quot;</span>: <span class="st">&quot;http://beispielris.de/consultations/47594&quot;</span>,
    <span class="dt">&quot;paper&quot;</span>: <span class="st">&quot;http://beispielris.de/papers/2396&quot;</span>,
    <span class="dt">&quot;agendaitem&quot;</span>: <span class="st">&quot;http://beispielris.de/agendaitems/15569&quot;</span>,
    <span class="dt">&quot;committee&quot;</span>: <span class="st">&quot;http://beispielris.de/organisations/96&quot;</span>,
    <span class="dt">&quot;authoritative&quot;</span>: <span class="dv">false</span>
}</code></pre>
<section id="eigenschaften-8" class="level3">
<h3><span class="header-section-number">5.11.1</span> Eigenschaften</h3>
<dl>
<dt><code>@id</code></dt>
<dd><p>URL des Objekts. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>paper</code></dt>
<dd><p>URL der Drucksache, die beraten wird. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>agendaitem</code></dt>
<dd><p>URL des Tagesordnungspunktes (oparl:Agendaitem), unter dem die Drucksache beraten wird. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>committee</code></dt>
<dd><p>URL des Gremiums (oparl:Organization), dem die Sitzung zugewisen ist, zu welcher der zuvor genannte Tagesordnungspunkt gehört. Diese Eigenschaft ist ZWINGEND.</p>
</dd>
<dt><code>authoritative</code></dt>
<dd><p>Drückt aus, ob bei dieser Beratung ein Beschluss zu der Drucksache gefasst wird (<em>true</em>) wird oder nicht (<em>false</em>). Diese Eigenschaft ist OPTIONAL. Typ: Wahrheitswert.</p>
</dd>
</dl>
</section>
</section>
<section id="oparl_location" class="level2">
<h2><span class="header-section-number">5.12</span> oparl:Location (Ort)</h2>
<p>Dieser Objekttyp dient dazu, den Ortsbezug einer Drucksache formal abzubilden. Ortsangaben können sowohl aus Textinformationen bestehen (beispielsweise dem Namen einer Straße/eines Platzes oder eine genaue Adresse) als auch aus Geodaten.</p>
<p>Dieser Objekttyp ist für anonyme Objekte im Kontext des Objekttyps <code>oparl:Paper</code> zu verwenden.</p>
<p>Ein einfaches Beispiel:</p>
<pre class="sourceCode json" id="location_ex1"><code class="sourceCode json">{
    <span class="er">...</span>
    <span class="dt">&quot;location&quot;</span>: {
        <span class="dt">&quot;description&quot;</span>: <span class="st">&quot;Honschaftsstra\u00dfe 312, K\u00f6ln&quot;</span>,
        <span class="dt">&quot;geometry&quot;</span>: {
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;Point&quot;</span>,
            <span class="dt">&quot;coordinates&quot;</span>: [<span class="fl">7.03291</span>, <span class="fl">50.98249</span>]
        }
    },
    <span class="er">...</span>
}</code></pre>
<p>In der Praxis soll dies dazu dienen, den geografischen Bezug eines politischen Vorgangs, wie zum Beispiel eines Bauvorhabens oder der Änderung eines Flächennutzungsplanes, maschinenlesbar nachvollziehbar zu machen.</p>
<p>OParl sieht bei Angabe von Geodaten die Verwendung des<br />GeoJSON-Formats<a href="#fn22" class="footnoteRef" id="fnref22"><sup>22</sup></a> vor. GeoJSON erlaubt die Beschreibung von vielen unterschiedlichen Geometrien wie Punkten, Pfaden und Polygonen in JSON-Notation. Ein GeoJSON-Objekt kann auch mehrere Geometrien umfassen, beispielsweise um damit mehrere Punkte oder Polygone zu umschreiben.</p>
<p>Gegenüber der GeoJSON-Spezifikation sieht OParl eine wichtige Einschränkung vor: Für die Ausgabe über eine OParl API MÜSSEN sämtliche Koordinatenangaben im System WGS84<a href="#fn23" class="footnoteRef" id="fnref23"><sup>23</sup></a> angegeben werden, und zwar in Form von Zahlenwerten (Fließkommazahlen) für Längen- und Breitengrad.</p>
<section id="eigenschaften-9" class="level3">
<h3><span class="header-section-number">5.12.1</span> Eigenschaften</h3>
<dl>
<dt><code>description</code></dt>
<dd><p>Textliche Beschreibung eines Orts, z.B. in Form einer Adresse. Diese Eigenschaft ist EMPFOHLEN. Typ: Zeichenkette.</p>
</dd>
<dt><code>geometry</code></dt>
<dd><p>Geodaten-Repräsentation des Orts. Diese Eigenschaft ist OPTIONAL. Ist diese Eigenschaft gesetzt, MUSS ihr Wert ein valides GeoJSON-Objekt sein.</p>
</dd>
</dl>
</section>
<section id="weitere-beispiele" class="level3">
<h3><span class="header-section-number">5.12.2</span> Weitere Beispiele</h3>
<section id="ortsangabe-mit-polygon-objekt" class="level4">
<h4><span class="header-section-number">5.12.2.1</span> Ortsangabe mit Polygon-Objekt</h4>
<pre class="sourceCode json" id="location_ex2"><code class="sourceCode json">{
    <span class="dt">&quot;description&quot;</span>: <span class="st">&quot;Rechtes Rheinufer zwischen Deutzer</span>
<span class="st">        Br\u00fccke und Hohenzollernbr\u00fccke&quot;</span>,
    <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;Polygon&quot;</span>,
    <span class="dt">&quot;geometry&quot;</span>: {
        <span class="dt">&quot;coordinates&quot;</span>: [
            [
                [<span class="fl">6.9681106</span>, <span class="fl">50.9412137</span>],
                [<span class="fl">6.9690940</span>, <span class="fl">50.9412137</span>],
                [<span class="fl">6.9692169</span>, <span class="fl">50.9368270</span>],
                [<span class="fl">6.9681218</span>, <span class="fl">50.9368270</span>],
                [<span class="fl">6.9681106</span>, <span class="fl">50.9412137</span>]
            ]
        ]
    }
}</code></pre>
</section>
</section>
</section>
</section>
<section id="fußnoten" class="level1">
<h1><span class="header-section-number">6</span> Fußnoten</h1>
<p>[14]: Frankfurt Gestalten <a href="http://www.geojson.org/">www.geojson.org</a></p>
<p>[15]: Offenes Köln <a href="http://offeneskoeln.de/">offeneskoeln.de</a></p>
<p>[16]: OpenRuhr:RIS <a href="http://openruhr.de/openruhrris/">openruhr.de/openruhrris</a></p>
</section>
<section id="glossar" class="level1">
<h1><span class="header-section-number">7</span> Glossar</h1>
<dl>
<dt>JSON-LD</dt>
<dd><p>JSON for Linked Data</p>
</dd>
<dt>RIS</dt>
<dd><p>Ratsinformationssystem</p>
</dd>
<dt>WGS 84</dt>
<dd><p>World Geodetic System 1984. Ein weltweites Referenzsystem für die Interpretation von Geokoordinaten-Angaben.</p>
</dd>
</dl>
</section>
<section id="jsonld_ressourcen_oparlorg" class="level1">
<h1><span class="header-section-number">8</span> JSON-LD-Ressourcen auf oparl.org</h1>
<p>TODO: Beschreiben, wo weitere Informationen über JSON-LD-Kontextdokumente zu finden sein werden.</p>
</section>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>RFC2119 <a href="http://tools.ietf.org/html/rfc2119">http://tools.ietf.org/html/rfc2119</a><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>Architecture of the World Wide Web, Volume One. <a href="http://www.w3.org/TR/webarch/">http://www.w3.org/TR/webarch/</a><a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>Das System BoRis der Stadt Bonn <a href="http://www2.bonn.de/bo_ris/ris_sql/agm_index.asp">http://www2.bonn.de/bo_ris/ris_sql/agm_index.asp</a><a href="#fnref3">↩</a></p></li>
<li id="fn4"><p>GeoJSON <a href="http://geojson.org/">http://geojson.org/</a><a href="#fnref4">↩</a></p></li>
<li id="fn5"><p>Fielding, Roy: Architectural Styles and the Design of Network-based Software Architectures, <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm</a><a href="#fnref5">↩</a></p></li>
<li id="fn6"><p><a href="http://patterns.dataincubator.org/book/follow-your-nose.html">http://patterns.dataincubator.org/book/follow-your-nose.html</a><a href="#fnref6">↩</a></p></li>
<li id="fn7"><p>vgl. Bundesministerium des Innern (Herausg.): Open Government Data Deutschland, Seite 433f., 2012 <a href="http://www.bmi.bund.de/SharedDocs/Downloads/DE/Themen/OED_Verwaltung/ModerneVerwaltung/opengovernment.pdf">http://www.bmi.bund.de/SharedDocs/Downloads/DE/Themen/OED_Verwaltung/ModerneVerwaltung/opengovernment.pdf</a><a href="#fnref7">↩</a></p></li>
<li id="fn8"><p>beispielsweise <a href="http://dbpedia.org/page/Christian_Democratic_Union_(Germany)">http://dbpedia.org/page/Christian_Democratic_Union_(Germany)</a> und <a href="http://dbpedia.org/page/Social_Democratic_Party_of_Germany">http://dbpedia.org/page/Social_Democratic_Party_of_Germany</a><a href="#fnref8">↩</a></p></li>
<li id="fn9"><p><a href="http://tools.ietf.org/html/rfc3986">http://tools.ietf.org/html/rfc3986</a><a href="#fnref9">↩</a></p></li>
<li id="fn10"><p>Berners-Lee, Tim: Cool URIs don't change. <a href="http://www.w3.org/Provider/Style/URI.html">http://www.w3.org/Provider/Style/URI.html</a><a href="#fnref10">↩</a></p></li>
<li id="fn11"><p>Study on persistent URIs, with identification of best practices and recommendations on the topic for the MSs and the EC. (PDF) <a href="http://goo.gl/JaTq6Z">http://goo.gl/JaTq6Z</a><a href="#fnref11">↩</a></p></li>
<li id="fn12"><p><a href="https://tools.ietf.org/html/rfc4627">https://tools.ietf.org/html/rfc4627</a><a href="#fnref12">↩</a></p></li>
<li id="fn13"><p>siehe dazu <a href="#linked_data">Linked Data</a><a href="#fnref13">↩</a></p></li>
<li id="fn14"><p><a href="http://www.w3.org/TR/json-ld/">http://www.w3.org/TR/json-ld/</a><a href="#fnref14">↩</a></p></li>
<li id="fn15"><p>URLs heißen in der JSON-LD-Spezifikation &quot;IRI&quot; (für &quot;Internationalized Resource Identifier&quot;), wir verwenden hier jedoch weiterhin die Bezeichnung &quot;URL&quot;.<a href="#fnref15">↩</a></p></li>
<li id="fn16"><p>TODO: URL zur Spezifikation<a href="#fnref16">↩</a></p></li>
<li id="fn17"><p>Regionalschlüssel können im <a href="https://www.destatis.de/DE/ZahlenFakten/LaenderRegionen/Regionales/Gemeindeverzeichnis/Gemeindeverzeichnis.html">Gemeindeverzeichnis (GV-ISys) des Statistischen Bundesamtes</a> eingesehen werden<a href="#fnref17">↩</a></p></li>
<li id="fn18"><p>Gemeinsame Normdatei <a href="http://www.dnb.de/gnd">http://www.dnb.de/gnd</a><a href="#fnref18">↩</a></p></li>
<li id="fn19"><p>DBPedia <a href="http://www.dbpedia.org/">http://www.dbpedia.org/</a><a href="#fnref19">↩</a></p></li>
<li id="fn20"><p>Wikipedia <a href="http://de.wikipedia.org/">http://de.wikipedia.org/</a><a href="#fnref20">↩</a></p></li>
<li id="fn21"><p><a href="http://tools.ietf.org/html/rfc2046">http://tools.ietf.org/html/rfc2046</a><a href="#fnref21">↩</a></p></li>
<li id="fn22"><p>GeoJSON Spazifikation <a href="http://geojson.org/geojson-spec.html">http://geojson.org/geojson-spec.html</a><a href="#fnref22">↩</a></p></li>
<li id="fn23"><p>WGS84 steht für &quot;World Geodetic System 1984&quot;, es wird unter anderem auch vom Global Positioning System (GPS) verwendet. In geografischen Informationssystemen ist für das System der EPSG-Code 4326 geläufig.<a href="#fnref23">↩</a></p></li>
</ol>
</section>
</body>
</html>
